{"version":3,"sources":["components/common/utils/accessToken.js","components/common/utils/userState.js","components/common/state/UserStateActions.js","components/login_form/state/loginFormActions.js","components/register_form/state/registerFormActions.js","components/common/utils/formValidation.js","components/register_form/state/RegisterInput.jsx","components/register_form/registerForm.jsx","components/login_form/LoginForm.jsx","components/user_menu/UserMenu.jsx","components/user_menu/state/UserMenuActions.js","components/header/Header.jsx","components/common/utils/api.js","components/activity/state/ActivityActions.js","components/common/state/ViewActions.js","components/NavigationMenu.jsx","components/NavigationMenuMobile.jsx","components/Pill.jsx","components/common/state/UserStateReducer.js","components/activity/state/ActivityReducer.js","components/meal_form/state/MealFormReducer.js","components/health_check_form/state/healthCheckFormReducer.js","components/login_form/state/loginFormReducer.js","components/user_menu/state/UserMenuReducer.js","components/common/state/ViewReducer.js","components/register_form/state/registerFormReducer.js","components/common/state/ViewportReducer.js","components/common/state/RootReducer.js","components/common/state/Store.js","components/common/utils/DateHandler.js","components/meal_form/state/MealFormActions.js","components/health_check_form/state/healthCheckFormActions.js","components/activity/ManageEntry.jsx","components/activity/MealEntry.jsx","components/activity/HealthCheckEntry.jsx","components/activity/DateBlock.jsx","components/activity/ActivityControls.jsx","components/common/InputAutoComplete.jsx","components/meal_form/MealForm.jsx","components/activity/utils/feedArray.js","components/health_check_form/HealthCheckForm.jsx","components/activity/Activity.jsx","components/Dashboard.jsx","components/common/state/ViewportActions.js","components/welcome/Welcome.jsx","components/App.jsx","components/common/utils/axiosConfig.js","index.js"],"names":["AccessToken","value","jwt_decode","exp","username","firstName","lastName","this","Math","ceil","Date","now","getCurrSeconds","refresh","a","fetch","response","status","json","error","Error","token","UserState","expired","accessToken","isLoggedIn","setUserState","payload","type","attemptLogIn","console","log","dispatch","getState","setLoginForm","setRegisterForm","validateRegisterForm","password","errorMessage","test","valid","name","RegisterInput","props","state","validationCallback","placeholder","capitalize","validated","trimWhitespace","lowercase","handleBlur","onBlur","handleChange","onChange","Form","Group","Control","isInvalid","touched","isValid","e","target","_","trim","toLower","split","reduce","acc","substring","upperFirst","Feedback","RegisterForm","useState","processing","setProcessing","useDispatch","useSelector","registerForm","handleSubmit","preventDefault","passwordVerify","registerPayload","method","headers","body","JSON","stringify","Modal","show","onHide","onSubmit","noValidate","Header","Title","Body","className","Row","Col","xs","validate","Footer","Button","variant","onClick","disabled","LoginForm","loginForm","attemptingLogin","message","invalidPassword","invalidUsername","md","autoCorrect","autoCapitalize","UserMenu","userMenu","loggingOut","setLoggingOut","mobile","viewport","Offcanvas","placement","closeButton","axios","get","loggedIn","UserMenuButton","style","marginLeft","color","borderColor","Container","fluid","route","url","data","post","put","deleteByID","_id","objectFromArray","inputArray","Object","fromEntries","map","entry","buildQuery","andArray","push","activity","filters","keywords","length","mealQuery","keyword","ingredients","$elemMatch","$regex","$options","healthCheckQuery","symptoms","description","mealTypeQuery","mealType","$or","buildKeywordQuery","$and","loadInitialActivity","query","API","dataArray","totalEntryCount","localEntriesCount","insertEntryLocal","newEntry","incrementLocalEntryCount","updateEntryLocal","updateEntry","x","setCurrentView","view","setViewToActivity","setViewToAnalysis","Sidebar","viewportWidth","href","currentView","Pill","text","deleteable","onDelete","size","margin","highlight","ButtonGroup","marginRight","marginBottom","initialState","loadingInitial","loadingMore","totalEntriesCount","time","new","edit","timeString","dateString","mood","active","filter","intitalInputState","email","width","rootReducer","combineReducers","action","mealForm","ingredient","healthCheckForm","symptom","outputState","keys","forEach","key","hasOwnProperty","middleWare","compose","applyMiddleware","thunk","store","createStore","composeWithDevTools","stringToUnixTime","date","dayjs","unix","unixToDateString","unixTime","format","unixToTimeString","formChange","ManageEntry","endpoint","currentEntry","editMeal","id","editHealthCheck","extend","customParseFormat","MealEntry","currentKeywordFilters","Breakfast","Lunch","Dessert","Snack","Dinner","Drink","HealthCheck","index","matchesKeyword","some","match","RegExp","HealthCheckEntry","DateBlock","entries","AddButtonsContainer","filterInput","setFilterInput","handleFilterInputSubmit","InputGroup","Text","i","InputAutoComplete","inputText","submit","apiEndpoint","allowNewItems","suggestions","clearOnSubmit","selectOnBlur","isLoading","setIsLoading","options","setOptions","selected","setSelected","currentSelection","setCurrentSelection","setLastSubmittedVal","startCase","lowerCase","submitHandler","outputValue","newItem","label","postValue","selectHintOnEnter","minLength","allowNew","delay","newSelectionPrefix","newSelection","onMenuToggle","opening","highlightOnlyResult","onSearch","results","activeIndex","MealForm","newMeal","updatedEntry","handleClose","defaultInputValue","newIngredient","includes","isYesterday","isToday","build","activityEntriesObj","dataObject","val","sort","b","output","currEntry","currArray","oneWeekAgo","subtract","isAfter","unixTimeToDate","HealthCheckForm","handleMoodSelect","newHealthCheck","display","newSymptom","Activity","useEffect","Spinner","animation","FeedArray","dateBlock","textAlign","fontSize","Dashboard","viewState","position","setViewportSize","Welcome","App","handleResize","lastViewportSize","currentViewportSize","window","innerWidth","addEventListener","removeEventListener","getToken","interceptors","request","use","config","Authorization","err","configAxios","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a23683e7.chunk.js","sourcesContent":["import jwt_decode from 'jwt-decode';\n\nexport class AccessToken {\n    constructor(value){\n        let {exp, username, firstName, lastName} = jwt_decode(value)\n        this.value = value;\n        this.exp = exp\n        this.username = username\n        this.firstName = firstName\n        this.lastName = lastName\n    }\n    getCurrSeconds() {\n        return Math.ceil(Date.now() / 1000);\n    }\n    expired(){\n        if(this.exp < this.getCurrSeconds() + 10){\n            return true;\n        }\n        return false\n    }\n}\n\nexport async function refresh() {\n    let response = await fetch('/access');\n    if (response.status !== 200) {\n        let error = await response.json();\n        throw new Error(error);\n    }\n    let token = await response.json();\n    return new AccessToken(token)\n}\n\nexport function decode(token) {\n    let { username, firstName, lastName } = jwt_decode(token);\n    console.log(firstName)\n    return {\n        username,\n        firstName,\n        lastName,\n        accessToken: token,\n        isLoggedIn: true,\n    };\n}\n","export default class UserState {\n    constructor(token) {\n        if (token && !token.expired()) {\n            this.accessToken = token;\n            let { username, firstName, lastName } = token;\n            this.username = username;\n            this.firstName = firstName;\n            this.lastName = lastName;\n            this.isLoggedIn = true\n        } else {\n            this.accessToken = null\n            this.username = '';\n            this.firstName = '';\n            this.lastName = '';\n            this.isLoggedIn = false\n        }\n    }\n}\n","import * as accessToken from 'components/common/utils/accessToken.js';\nimport UserState from 'components/common/utils/userState';\nimport { hideUserOptions } from 'components/user_menu/state/UserMenuActions';\nimport axios from 'axios';\nexport function setUserState(payload) {\n    return {\n        type: 'USERSTATE/SET',\n        payload,\n    };\n}\n\nexport function attemptLogIn() {\n    console.log('attempting login');\n    return async (dispatch, getState) => {\n        try {\n            let token = await accessToken.refresh(); //return access token object\n            dispatch(setUserState(new UserState(token)));\n        } catch (error) {\n            console.log('no refresh token, login required');\n            dispatch(setUserState(new UserState()));\n        }\n    };\n}\n\nexport function LogOut() {\n    return async (dispatch, getState) => {\n        const token = () => getState().UserState.accessToken;\n        try {\n            if (token().expired()) await dispatch(attemptLogIn());\n            await axios.get('/logout');\n            dispatch(hideUserOptions())\n            dispatch(setUserState(new UserState()));\n        } catch (error) {\n            console.error(error)\n        }\n    };\n}\n","import { AccessToken } from 'components/common/utils/accessToken.js';\nimport { setUserState } from 'components/common/state/UserStateActions.js';\nimport UserState from 'components/common/utils/userState';\n\nexport function showLoginForm(payload) {\n    return {\n        type: 'LOGIN_FORM/SHOW',\n    };\n}\n\nexport function setLoginForm(payload) {\n    return {\n        type: 'LOGIN_FORM/SET',\n        payload,\n    };\n}\nexport function resetLoginForm() {\n    return {\n        type: 'LOGIN_FORM/RESET',\n    };\n}\n\nexport function logIn() {\n    return async (dispatch, getState) => {\n        try {\n            let { username, password } = getState().loginForm;\n            let response = await fetch('/login', {\n                method: 'POST',\n                headers: { 'Content-type': 'application/json' },\n                body: JSON.stringify({ username, password }),\n            });\n            if (response.status !== 200) {\n                let errorMessage = await response.json();\n                throw new Error(errorMessage);\n            }\n            let token = new AccessToken(await response.json());\n            dispatch(setUserState(new UserState(token)));\n            dispatch(resetLoginForm());\n        } catch (error) {\n            console.log(error);\n            if (error.message === 'invalid username') {\n                dispatch(setLoginForm({ invalidPassword: false, invalidUsername: true }));\n            }\n            if (error.message === 'invalid password') {\n                dispatch(setLoginForm({ invalidPassword: true, invalidUsername: false }));\n            }\n        }\n    };\n}\n","export function showRegisterForm(){\n    return {\n        type: 'REGISTER_FORM/SHOW'\n    }\n}\nexport function hideRegisterForm(){\n    return {\n        type: 'REGISTER_FORM/HIDE'\n    }\n}\nexport function setRegisterForm(payload){\n    return {\n        type: 'REGISTER_FORM/SET',\n        payload\n    }\n}\nexport function validateRegisterForm(payload){\n    return {\n        type: 'REGISTER_FORM/VALIDATE',\n        payload\n    }\n}\nexport function touchAllInputs(){\n    return {\n        type: \"REGISTER_FORM/TOUCH_ALL\",\n    }\n}","import { validate as validateEmail } from 'email-validator';\n\nexport function password(value) {\n    let errorMessage = 'Password must be at least 8 characters with at least one capital letter and one number'\n    if (/\\s/.test(value)) {\n        return { valid: false, error: 'Password cannot contain spaces. ' + errorMessage }\n    }\n    if (!/^\\S{8,}$/i.test(value)) {\n        return { valid: false, error: errorMessage };\n    }\n    if (!/[A-Z]/.test(value)) {\n        return { valid: false, error: errorMessage }\n    }\n    if (!/\\d/.test(value)) {\n        return { valid: false, error: errorMessage }\n    }\n    return { valid: true, error: '' };\n}\n\nexport function email(value) {\n    let valid = validateEmail(value);\n    let error = valid ? '' : 'Invalid Email Address';\n    return { valid, error };\n}\n\nexport function name(value) {\n    let valid = /^\\w{1,}/i.test(value);\n    let error = valid ? '' : 'Invalid Name';\n    return { valid, error };\n}\n","import React from 'react';\nimport Form from 'react-bootstrap/Form';\nimport _ from 'lodash';\n\nexport default function RegisterInput(props) {\n    let { name, state, validationCallback, placeholder, capitalize, type, validated, trimWhitespace, lowercase} = props;\n    let handleBlur = props.onBlur;\n    let handleChange = props.onChange;\n    return (\n        <Form.Group>\n            <Form.Control\n                name={name}\n                value={state.value}\n                isInvalid={validated && state.touched && !state.valid}\n                isValid={validated && state.touched && state.valid}\n                onBlur={(e) => {\n                    let value = e.target.value;\n                    if (value) handleBlur(e, validationCallback);\n                }}\n                onChange={(e) => {\n                    let { name, value } = e.target;\n                    //if capitalize prop is true, and last character typed is a letter char\n                    if (trimWhitespace) value = _.trim(value)\n                    if (lowercase) value = _.toLower(value)\n                    if (capitalize && /\\w$/.test(value)) {\n                        value = value.split(/([\\s-_.])/).reduce((acc, substring) => {\n                            return acc + _.upperFirst(substring);\n                        }, '');\n                        value = _.trim(value);\n                    }\n                    handleChange({ name, value });\n                }}\n                type={type}\n                placeholder={placeholder}\n            />\n            <Form.Control.Feedback type=\"invalid\">{state.error}</Form.Control.Feedback>\n            <Form.Control.Feedback type=\"valid\">{state.error}</Form.Control.Feedback>\n        </Form.Group>\n    );\n}\n","import { useState } from 'react';\nimport React from 'react';\nimport Modal from 'react-bootstrap/Modal';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n    hideRegisterForm,\n    setRegisterForm,\n    touchAllInputs,\n    validateRegisterForm,\n} from './state/registerFormActions';\nimport Button from 'react-bootstrap/Button';\nimport './RegisterForm.scss';\nimport * as validate from 'components/common/utils/formValidation';\nimport RegisterInput from './state/RegisterInput';\nimport { AccessToken } from '../common/utils/accessToken.js';\nimport UserState from 'components/common/utils/userState';\nimport { setUserState } from 'components/common/state/UserStateActions';\nimport _ from 'lodash';\n\nexport default function RegisterForm() {\n    let [processing, setProcessing] = useState(false);\n    const dispatch = useDispatch();\n    let state = useSelector((state) => state.registerForm);\n\n    async function handleSubmit(e) {\n        e.preventDefault();\n        dispatch(touchAllInputs());\n        if (!state.password.valid) return;\n        if (!state.passwordVerify.valid) return;\n        if (!state.username.valid) return;\n        if (!state.firstName.valid) return;\n        if (!state.lastName.valid) return;\n        let registerPayload = {\n            username: _.toLower(_.trim(state.username.value)),\n            firstName: _.trim(state.firstName.value),\n            lastName: _.trim(state.lastName.value),\n            password: _.trim(state.password.value)\n        };\n        console.log(registerPayload)\n        setProcessing(true)\n        try {\n            let response = await fetch('/register', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify(registerPayload),\n            });\n            if(response.status !== 200) throw new Error(`Error ${response.status}`)\n            console.log('success')\n            let token = new AccessToken(await response.json());\n            dispatch(setUserState(new UserState(token)))\n        } catch (error) {\n            setProcessing(false)\n            console.log(error)\n        }\n    }\n\n    async function handleChange({ name, value }) {\n        dispatch(setRegisterForm({ [name]: { value } }));\n    }\n\n    async function handleBlur(e, validationCallback) {\n        let { name, value } = e.target;\n        let { valid, error } = await validationCallback(value);\n        dispatch(validateRegisterForm({ [name]: { value, valid, touched: true, error } }));\n    }\n\n    return (\n        <Modal show={state.show} onHide={() => dispatch(hideRegisterForm())}>\n            <Form onSubmit={handleSubmit} noValidate>\n                <Modal.Header>\n                    <Modal.Title>Sign Up!</Modal.Title>\n                </Modal.Header>\n                <Modal.Body className=\"register-form-container\">\n                    <h6>Personal info:</h6>\n                    <Row>\n                        <Col xs={6}>\n                            <RegisterInput\n                                state={state.firstName}\n                                name=\"firstName\"\n                                capitalize\n                                validated\n                                placeholder=\"First Name\"\n                                validationCallback={validate.name}\n                                onChange={handleChange}\n                                onBlur={handleBlur}\n                            />\n                        </Col>\n                        <Col xs={6}>\n                            <RegisterInput\n                                state={state.lastName}\n                                name=\"lastName\"\n                                validated\n                                placeholder=\"Last Name\"\n                                validationCallback={validate.name}\n                                capitalize\n                                onChange={handleChange}\n                                onBlur={handleBlur}\n                            />\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col xs={12}>\n                            {/* <RegisterInput\n                                state={state.email}\n                                name=\"email\"\n                                placeholder=\"Email\"\n                                validationCallback={(validate.email)}\n                                onChange={handleChange}\n                                onBlur={handleBlur}\n                            /> */}\n                        </Col>\n                    </Row>\n                    <hr />\n                    <h6>Account Info:</h6>\n                    <Row>\n                        <Col xs={12}>\n                            <RegisterInput\n                                state={state.username}\n                                name=\"username\"\n                                validated\n                                trimWhitespace\n                                lowercase\n                                placeholder=\"Username\"\n                                validationCallback={async (value) => {\n                                    if (!/^\\w{1,}$/i.test(value))\n                                        return { valid: false, error: 'Invalid Username' };\n                                    let response = await fetch('validation/username/' + value);\n                                    let valid = await response.json();\n                                    let error = valid\n                                        ? 'Username is available'\n                                        : 'Username is not available';\n                                    return { valid, error };\n                                }}\n                                onChange={handleChange}\n                                onBlur={handleBlur}\n                            />\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col xs={12}>\n                            <RegisterInput\n                                type=\"password\"\n                                state={state.password}\n                                name=\"password\"\n                                validated\n                                placeholder=\"Password\"\n                                validationCallback={validate.password}\n                                onChange={handleChange}\n                                onBlur={handleBlur}\n                            />\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col xs={12}>\n                            <RegisterInput\n                                type=\"password\"\n                                state={state.passwordVerify}\n                                name=\"passwordVerify\"\n                                validated\n                                placeholder=\"Verify Password\"\n                                validationCallback={(value) => {\n                                    let valid = state.password.value === value;\n                                    let error = valid ? '' : 'Passwords do not match';\n                                    return { valid, error };\n                                }}\n                                onChange={handleChange}\n                                onBlur={handleBlur}\n                            />\n                        </Col>\n                    </Row>\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button variant=\"default\" onClick={() => dispatch(hideRegisterForm())}>\n                        Cancel\n                    </Button>\n                    <Button\n                        onClick={handleSubmit}\n                        type=\"submit\"\n                        disabled={processing}\n                        variant=\"default\" \n                        className=\"button-light-green\"\n                        >\n                        {processing ? 'Creating Account' : 'Create Account'}\n                    </Button>\n                </Modal.Footer>\n            </Form>\n        </Modal>\n    );\n}\n","import React from 'react';\nimport './LoginForm.scss';\nimport Form from 'react-bootstrap/Form';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setLoginForm, logIn } from './state/loginFormActions';\nimport { showRegisterForm } from 'components/register_form/state/registerFormActions';\nimport RegisterForm from 'components/register_form/registerForm';\n\nexport default function LoginForm() {\n    let state = useSelector((state) => state.loginForm);\n    let { attemptingLogin } = useSelector((state) => state.UserState);\n\n    const dispatch = useDispatch();\n\n    return (\n        <div className=\"login-container\">\n            {!attemptingLogin && (\n                <Form\n                    className=\"form\"\n                    onSubmit={(e) => {\n                        e.preventDefault();\n                        console.log('signing in');\n                        dispatch(logIn());\n                    }}>\n                    <div className=\"login\">\n                        <Row className=\"form-row\">\n                            <Col className=\"form-col\" md=\"auto\">\n                                <Form.Control\n                                    autoCorrect=\"off\" \n                                    autoCapitalize=\"none\"\n                                    isInvalid={state.invalidUsername}\n                                    name=\"username\"\n                                    className=\"username\"\n                                    placeholder=\"User Name\"\n                                    value={state.username}\n                                    onChange={(e) => {\n                                        dispatch(setLoginForm({ username: e.target.value }));\n                                    }}\n                                />\n                            </Col>\n                            <Col className=\"form-col\" md=\"auto\">\n                                <Form.Control\n                                    isInvalid={state.invalidPassword}\n                                    name=\"password\"\n                                    className=\"password\"\n                                    type=\"password\"\n                                    value={state.password}\n                                    onChange={(e) => {\n                                        dispatch(setLoginForm({ password: e.target.value }));\n                                    }}\n                                    placeholder=\"Password\"\n                                />\n                            </Col>\n                            <Col className=\"form-col\" xs={6} md=\"auto\">\n                                <Button type=\"submit\" className=\"login-button\" variant=\"light\">\n                                    Sign In\n                                </Button>\n                            </Col>\n                            <Col className=\"form-col\" xs={6} md=\"auto\">\n                                <Button\n                                    onClick={() => dispatch(showRegisterForm())}\n                                    className=\"button-dark-green signup-button\"\n                                    variant=\"success\">\n                                    Sign Up\n                                </Button>\n                                <RegisterForm />\n                            </Col>\n                        </Row>\n                    </div>\n                </Form>\n            )}\n        </div>\n    );\n}\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { hideUserOptions, showUserOptions } from './state/UserMenuActions';\nimport Button from 'react-bootstrap/Button';\nimport Offcanvas from 'react-bootstrap/Offcanvas';\nimport './UserMenu.scss';\nimport { LogOut } from 'components/common/state/UserStateActions';\nimport { useState } from 'react';\n\nexport default function UserMenu() {\n    let state = useSelector((state) => state.userMenu);\n    let [loggingOut, setLoggingOut] = useState(false);\n    let mobile = useSelector(state => state.viewport.mobile)\n    const dispatch = useDispatch();\n    return (\n        <div>\n            {/* <h4>\n                Hello, {useSelector((state) => state.UserState.firstName)}\n                <Button className=\"user-menu-button\"\n                    variant=\"outline-light\"\n                    style={{ marginLeft: '20px', color: 'white', borderColor: 'white' }}\n                    onClick={() => dispatch(showUserOptions())}>\n                    <i className=\"fas fa-bars\"></i>\n                </Button>\n            </h4> */}\n            <Offcanvas\n                className=\"user-menu\"\n                show={state.show}\n                onHide={() => dispatch(hideUserOptions())}\n                placement={mobile ? 'bottom' : 'end'}>\n                <Offcanvas.Header closeButton>\n                    <Offcanvas.Title>Your Account</Offcanvas.Title>\n                </Offcanvas.Header>\n                <Offcanvas.Body>\n                    <div className=\"options-container\">\n                        <ul>\n                            <li>\n                                <button className=\"link\">Account Settings</button>\n                            </li>\n                            <li>\n                                <button className=\"link\">Help</button>\n                            </li>\n                        </ul>\n                    </div>\n                    <div className=\"logout-button-container\">\n                        <hr />\n                        <Button\n                            disabled={loggingOut}\n                            variant=\"default\"\n                            className=\"logout button-dark-green\"\n                            onClick={ async () => {\n                                setLoggingOut(true)\n                                await dispatch(LogOut());\n                            }}>\n                            {loggingOut ? 'Logging Out' : 'Log Out'}\n                        </Button>\n                    </div>\n                </Offcanvas.Body>\n            </Offcanvas>\n        </div>\n    );\n}\n","export function showUserOptions(){\n    return {\n        type: 'USER_MENU/SHOW'\n    }\n}\nexport function hideUserOptions(){\n    return {\n        type: 'USER_MENU/HIDE'\n    }\n}","import React from 'react';\nimport LoginForm from '../login_form/LoginForm';\nimport './Header.scss';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button'\n//import CurrentUser from 'components/header/CurrentUser'\nimport UserMenu from 'components/user_menu/UserMenu';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { showUserOptions } from 'components/user_menu/state/UserMenuActions';\n\nexport default function Header() {\n    let loggedIn = useSelector((state) => state.UserState.isLoggedIn);\n    let mobile = useSelector((state) => state.viewport.mobile);\n    let dispatch = useDispatch()\n\n    function UserMenuButton() {\n        return (\n            <div>\n                <h2>\n                    Hello, {useSelector((state) => state.UserState.firstName)}\n                        <Button className=\"user-menu-button\"\n                            variant=\"outline-light\"\n                            style={{ marginLeft: '20px', color: 'white', borderColor: 'white' }}\n                            onClick={() => dispatch(showUserOptions())}>\n                            <i className=\"fas fa-bars\"></i>\n                        </Button>\n                </h2>\n            </div>\n        )\n    }\n\n    return (\n        <Container fluid className=\"header-container\">\n            <Row className=\"header\">\n                <Col xs={12} md={true} className=\"logo\">\n                    <h2>\n                        Food <span className=\"x\">x</span> Mood{' '}\n                    </h2>\n                </Col>\n                <Col xs={0} md={true} className=\"filler\"></Col>\n                <Col xs={0} md={'auto'} className=\"login\">\n                    {loggedIn && !mobile && <UserMenuButton />}\n                    {!loggedIn && !mobile && <LoginForm />}\n                </Col>\n            </Row>\n        </Container>\n    );\n}\n","import axios from 'axios';\n\nexport const get = async (route) => {\n    console.log('api get: ' + route);\n    let response = await axios({\n        method: 'get',\n        url: `/api/${route}`\n    });\n    return response.data;\n};\n\nexport const post = async (route, data) => {\n    let response = await axios({\n        method: 'post',\n        url: `/api/${route}`,\n        data,\n    });\n    return response.data;\n};\n\nexport const put = async (route, data) => {\n    let response = await axios({\n        method: 'put',\n        url: `/api/${route}`,\n        data,\n    });\n    return response.data;\n};\n\nexport const deleteByID = async (route, _id) => {\n    let response = await axios({\n        method: 'delete',\n        url: `/api/${route}/${_id}`,\n    });\n    return response.data;\n};\n","import * as API from 'components/common/utils/api.js';\n\nfunction objectFromArray(inputArray) {\n    return Object.fromEntries(\n        inputArray.map((entry) => {\n            //CONVERTS ARRAY TO OBJECT KEYED BY _ID\n            let { _id } = entry;\n            return [_id, entry];\n        })\n    );\n}\n\nfunction loadingInitialActivity() {\n    return {\n        type: 'ACTIVITY/LOADING_INITIAL',\n    };\n}\n\nfunction loadingMoreActivity() {\n    return {\n        type: 'ACTIVITY/LOADING_MORE',\n    };\n}\n\nfunction buildKeywordQuery(keywords) {\n    let mealQuery = keywords.map((keyword) => {\n        return {\n            ingredients: { $elemMatch: { name: { $regex: keyword, $options: 'i' } } },\n        };\n    });\n    let healthCheckQuery = keywords.map((keyword) => {\n        return {\n            symptoms: { $elemMatch: { description: { $regex: keyword, $options: 'i' } } },\n        };\n    });\n    let mealTypeQuery = keywords.map((keyword) => {\n        return {\n            mealType: { $regex: keyword, $options: 'i' },\n        };\n    });\n\n    return {\n        $or: [...healthCheckQuery, ...mealQuery, ...mealTypeQuery],\n    };\n}\n\nfunction buildQuery(getState) {\n    let andArray = [];\n    andArray.push(getState().activity.filters.type);\n    console.log(andArray);\n    let keywords = getState().activity.filters.keywords;\n    if (keywords.length > 0) {\n        andArray.push(buildKeywordQuery(keywords));\n    }\n    console.log(andArray);\n    return { $and: andArray };\n}\n\nexport function loadInitialActivity() {\n    return async (dispatch, getState) => {\n        try {\n            dispatch(loadingInitialActivity());\n            let query = buildQuery(getState);\n            let { data: dataArray, totalEntryCount } = await API.get(\n                `activity/?filter=${JSON.stringify(query)}\n                &skip=0`\n            );\n            dispatch({\n                type: 'ACTIVITY/INSERT_INITIAL_ACTIVITY',\n                payload: {\n                    data: objectFromArray(dataArray),\n                    localEntriesCount: dataArray.length,\n                },\n            });\n            dispatch({\n                type: 'ACTIVITY/SET_TOTAL_ENTRIES_COUNT',\n                payload: totalEntryCount,\n            });\n        } catch (error) {\n            console.log(error);\n        }\n    };\n}\n\nexport function loadMoreActivity() {\n    return async (dispatch, getState) => {\n        try {\n            dispatch(loadingMoreActivity());\n            let query = buildQuery(getState);\n            let { data: dataArray, totalEntryCount } = await API.get(\n                `activity/?filter=${JSON.stringify(query)}&skip=${getState().activity.localEntriesCount}`\n            );\n            console.log(dataArray)\n            dispatch({\n                type: 'ACTIVITY/INSERT_MORE_ACTIVITY',\n                payload: {\n                    data: objectFromArray(dataArray),\n                },\n            });\n            dispatch(incrementLocalEntryCount(dataArray.length));\n        } catch (error) {\n            console.log(error);\n        }\n    };\n}\n\nexport function insertEntryLocal(newEntry) {\n    return (dispatch) => {\n        dispatch({\n            type: 'ACTIVITY/INSERT_ENTRY_LOCAL',\n            payload: { [newEntry._id]: newEntry },\n        });\n        dispatch(incrementLocalEntryCount());\n    };\n}\n\nexport function updateEntryLocal(updateEntry) {\n    console.log({ [updateEntry._id]: updateEntry });\n    return (dispatch) => {\n        dispatch({\n            type: 'ACTIVITY/UPDATE_ENTRY_LOCAL',\n            payload: { [updateEntry._id]: updateEntry },\n        });\n    };\n}\n\nfunction incrementLocalEntryCount(x) {\n    return {\n        type: 'ACTIVITY/INCREMENT_LOCAL_ENRTY_COUNT',\n        payload: x,\n    };\n}\n\nfunction decrementLocalEntryCount(x) {\n    return {\n        type: 'ACTIVITY/DECREMENT_LOCAL_ENRTY_COUNT',\n        payload: x,\n    };\n}\n\nexport function setFilterType(query) {\n    return {\n        type: 'ACTIVITY/FILTER/SET_TYPE',\n        payload: query,\n    };\n}\n\nexport function addFilterKeyword(keyword) {\n    return {\n        type: 'ACTIVITY/FILTER/ADD_KEYWORD',\n        payload: keyword,\n    };\n}\nexport function deleteFilterKeyword(payload) {\n    return {\n        type: 'ACTIVITY/FILTER/DELETE_KEYWORD',\n        payload,\n    };\n}\n","import * as activityActions from \"components/activity/state/ActivityActions\"\n\nexport function setCurrentView(view){\n    return {\n        type: 'VIEW/SET_CURRENT',\n        payload: view\n    }\n}\n\nexport function setViewToActivity(payload){\n    return (dispatch) => {\n        dispatch(activityActions.setFilterType(payload))\n        dispatch(setCurrentView('activity'))\n    }\n}\n\nexport function setViewToAnalysis(payload){\n    return (dispatch) => {\n        dispatch(setCurrentView('analysis'))\n    }\n}","import React from 'react';\nimport './NavigationMenu.scss';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setViewToActivity, setViewToAnalysis } from './common/state/ViewActions';\n\nexport default function Sidebar(props) {\n    let dispatch = useDispatch();\n    let viewportWidth = useSelector((state) => state.view.viewportWidth);\n    return (\n        <div className=\"navigation-menu-container\">\n            <div className=\"nav-group\">\n                <div className=\"nav-group-title\">\n                    <h5>Your Log</h5>\n                </div>\n                <div\n                    onClick={() => {\n                        dispatch(setViewToActivity({$or: [ {type:'meal'}, {type: 'healthCheck'}]}))\n                    }}\n                    className=\"nav-item\">\n                    <a href=\"#\">All Activity</a>\n                </div>\n                <div\n                    onClick={() => {\n                        dispatch(setViewToActivity({type: 'meal'}))\n                    }}\n                    //{ingredients: {$elemMatch: {name: 'Sriracha'}}}\n                    className=\"nav-item\">\n                    <a href=\"#\">Meals</a>\n                </div>\n                <div\n                    onClick={() => {\n                        dispatch(setViewToActivity({type: 'healthCheck'}))\n                    }}\n                    className=\"nav-item\">\n                    <a href=\"#\">Wellness</a>\n                </div>\n                <div className=\"nav-item-catagory\"></div>\n            </div>\n            <div className=\"nav-group\">\n                <div className=\"nav-group-title\">\n                    <h5>Analysis</h5>\n                </div>\n                <div\n                    className=\"nav-item\"\n                    onClick={() => {\n                        dispatch(setViewToAnalysis('analysis'));\n                    }}>\n                    <a href=\"#\">Food Items</a>\n                </div>\n                <div\n                    className=\"nav-item\"\n                    onClick={() => {\n                        dispatch(setViewToAnalysis('analysis'));\n                    }}>\n                    <a href=\"#\">Symptoms</a>\n                </div>\n                <div className=\"nav-item-catagory\"></div>\n            </div>\n        </div>\n    );\n}\n","import React from 'react';\nimport './NavigationMenuMobile.scss';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setCurrentView, setViewToActivity, setViewToAnalysis } from './common/state/ViewActions';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport { showUserOptions } from './user_menu/state/UserMenuActions';\n\nexport default function Sidebar(props) {\n    let dispatch = useDispatch();\n    let currentView = useSelector((state) => state.view.currentView);\n\n    return (\n        <div className=\"navigation-menu-mobile-container\">\n            <Container fluid>\n                <Row>\n                    <Col className=\"col\" xs={4}>\n                        <div\n                            className={`nav-item ${currentView === 'activity' && 'active'}`}\n                            onClick={() => {\n                                dispatch(setViewToActivity({$or: [ {type:'meal'}, {type: 'healthCheck'}]}));\n                            }}>\n                            <a href=\"#\">\n                                <i className=\"fas fa-list-ul\"></i>\n                                <br />\n                                Activity\n                            </a>\n                        </div>\n                    </Col>\n                    <Col className=\"col\" xs={4}>\n                        <div\n                            className={`nav-item ${currentView === 'analysis' && 'active'}`}\n                            onClick={() => {\n                                dispatch(setViewToAnalysis());\n                            }}>\n                            <a href=\"#\">\n                                <i className=\"fas fa-chart-area\"></i>\n                                <br />\n                                Analysis\n                            </a>\n                        </div>\n                    </Col>\n                    <Col className=\"col\" xs={4}>\n                        <div\n                            className=\"nav-item\"\n                            onClick={() => {\n                                dispatch(showUserOptions());\n                            }}>\n                            <a href=\"#\">\n                                <i className=\"fas fa-cog\"></i>\n                                <br />\n                                Settings\n                            </a>\n                        </div>\n                    </Col>\n                </Row>\n            </Container>\n        </div>\n    );\n}\n","import React from 'react';\nimport './Pill.scss';\nimport Button from 'react-bootstrap/Button';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\n\nexport default function Pill(props) {\n    let { text, deleteable, onDelete, onClick, className, color, size, margin, highlight } = props;\n    return (\n        <ButtonGroup\n            className=\"pill-container\"\n            style={margin ? { marginRight: margin, marginBottom: margin } : { margin: 0 }}>\n            <div\n                onClick={onClick}\n                className={`pill-body pill-${size} pill-${color} ${\n                    deleteable && 'pill-deleteable'\n                } ${highlight && 'pill-highlight'}`}>\n                {text}\n            </div>\n            {deleteable && (\n                <Button\n                    onClick={onDelete}\n                    className={`button-dark-${color} delete-keyword ${\n                        className ? className : ''\n                    } delete-btn-${size}`}>\n                    <i className=\"fas fa-times\"></i>\n                </Button>\n            )}\n        </ButtonGroup>\n    );\n}\n","import UserState from 'components/common/utils/userState'\n\nconst initialState = {...new UserState(), attemptingLogin: true}\n\nexport default function UserStateReducer(state = initialState, action){\n    switch (action.type){\n        case 'USERSTATE/SET':\n            return {...action.payload, attemptingLogin: false}\n        default: return {...state }\n    }\n}","const initialState = {\n    data: {},\n    loadingInitial: false,\n    loadingMore: false,\n    filters: {\n        type: { $or: [{ type: 'meal' }, { type: 'healthCheck' }] },\n        keywords: [],\n    },\n    localEntriesCount: 0,\n    totalEntriesCount: 0\n};\n\nexport default function ActivityReducer(state = initialState, action) {\n    let { payload } = action;\n    switch (action.type) {\n        case 'ACTIVITY/INSERT_INITIAL_ACTIVITY':\n            return { ...state, ...payload, loadingInitial: false};\n        case 'ACTIVITY/INSERT_MORE_ACTIVITY':\n            return { ...state, data: {...state.data, ...payload.data}, loadingMore: false};\n        case 'ACTIVITY/INSERT_ENTRY_LOCAL':\n            return { ...state, data: {...state.data, ...payload} }\n        case 'ACTIVITY/UPDATE_ENTRY_LOCAL':\n            return { ...state, data: {...state.data, ...payload} }\n        case 'ACTIVITY/SET_TOTAL_ENTRIES_COUNT':\n            return { ...state, totalEntriesCount: payload}\n        case 'ACTIVITY/INCREMENT_LOCAL_ENRTY_COUNT':\n            return { ...state, localEntriesCount: state.localEntriesCount + payload }\n        case 'ACTIVITY/DECREMENT_LOCAL_ENRTY_COUNT':\n            return { ...state, localEntriesCount: state.localEntriesCount - payload }\n        case 'ACTIVITY/LOADING_INITIAL':\n            return { ...state, loadingInitial: true };\n        case 'ACTIVITY/LOADING_MORE':\n            return { ...state, loadingMore: true };\n        case 'ACTIVITY/FILTER/SET_TYPE':\n            return { ...state, filters: { ...state.filters, type: payload } };\n        case 'ACTIVITY/FILTER/ADD_KEYWORD':\n            return {\n                ...state,\n                filters: {\n                    ...state.filters,\n                    keywords: [...state.filters.keywords, payload],\n                },\n            };\n        case 'ACTIVITY/FILTER/DELETE_KEYWORD':\n            return {\n                ...state,\n                filters: {\n                    ...state.filters,\n                    keywords: state.filters.keywords.filter((keyword) => {\n                        console.log(payload)\n                        return keyword !== payload;\n                    }),\n                },\n            };\n        default:\n            return state;\n    }\n}\n","const initialState = {\n    show: false,\n    ingredients: [],\n    time: '',\n    mealType: '',\n    _id: '',\n    new: false,\n    edit: false,\n    timeString: '',\n    dateString: '',\n};\n\nexport default function MealFormReducer(state = initialState, action) {\n    let { payload } = action;\n    switch (action.type) {\n        case 'MEAL_FORM/EDIT':\n            return { ...initialState, ...payload };\n        case 'MEAL_FORM/NEW':\n            return { ...initialState, ...payload };\n        case 'MEAL_FORM/CHANGE':\n            return { ...state, ...payload };\n        case 'MEAL_FORM/CLOSE':\n            return { ...initialState };\n        case 'MEAL_FORM/DELETE_INGREDIENT':\n            let ingredients = state.ingredients.filter(\n                (ingredient) => ingredient !== payload\n            );\n            return {\n                ...state,\n                ingredients,\n            };\n        default:\n            return state;\n    }\n}\n","const initialState = {\n    show: false,\n    symptoms: [],\n    time: '',\n    mood: null,\n    _id: '',\n    new: false,\n    edit: false,\n    dateString: '',\n    timeString: '',\n};\n\nexport default function HealtCheckFormReducer(state = initialState, action) {\n    let { payload } = action;\n    switch (action.type) {\n        case 'HEALTH_CHECK_FORM/EDIT':\n            return { ...initialState, ...payload };\n        case 'HEALTH_CHECK_FORM/NEW':\n            return { ...initialState, ...payload };\n        case 'HEALTH_CHECK_FORM/DELETE_SYMPTOM':\n            let symptoms = state.symptoms.filter(\n                (symptom) => symptom !== payload\n            );\n            return { ...state, symptoms };\n        case 'HEALTH_CHECK_FORM/CHANGE':\n            return { ...state, ...payload };\n        case 'HEALTH_CHECK_FORM/CLOSE':\n            return { ...initialState };\n        default:\n            return state;\n    }\n}\n","const initialState = {\n    username: '',\n    password: '',\n    show: false,\n    invalidPassword: false,\n    invalidUsername: false,\n};\n\nexport default function LoginFormReducer(state = initialState, action) {\n    let payload = action.payload;\n    switch (action.type) {\n        case 'LOGIN_FORM/SET':\n            return { ...state, ...payload };\n        case 'LOGIN_FORM/SHOW':\n            return { ...state, show: true };\n        case 'LOGIN_FORM/RESET':\n            return { ...initialState };\n        default:\n            return state;\n    }\n}\n","const initialState = {\n    show: false\n};\n\nexport default function UserOptionsReducer(state = initialState, action) {\n    switch (action.type) {\n        case 'USER_MENU/SHOW':\n            console.log('showing')\n            return {...state, show: true};\n        case 'USER_MENU/HIDE':\n            console.log('hiding')\n            return {...state, show: false};\n        default:\n            return state;\n    }\n}\n","const initialState = {\n    currentView: 'activity',\n    activity: {\n        active: true,\n        filter: 'all'\n    }\n};\n\n\nexport default function ViewReducer(state = initialState, action) {\n    let payload = action.payload\n    switch (action.type) {\n        case 'VIEW/SET_CURRENT':\n            return { ...initialState, currentView: payload };\n        default:\n            return state;\n    }\n}\n","const intitalInputState = { value: '', valid: false, touched: false, error: 'Required Field' };\nconst initialState = {\n    show: false,\n    firstName: { ...intitalInputState },\n    lastName: { ...intitalInputState },\n    email: { ...intitalInputState, valid: true },\n    username: { ...intitalInputState },\n    password: { ...intitalInputState },\n    passwordVerify: { ...intitalInputState },\n};\n\nexport default function RegisterFormReducer(state = initialState, action) {\n    let payload = action.payload;\n    switch (action.type) {\n        case 'REGISTER_FORM/SHOW':\n            return { ...state, show: true };\n        case 'REGISTER_FORM/HIDE':\n            return { ...state, show: false };\n        case 'REGISTER_FORM/SET':\n            return { ...state, ...payload };\n        case 'REGISTER_FORM/VALIDATE':\n            return { ...state, ...payload };\n        case 'REGISTER_FORM/TOUCH_ALL':\n            let outputState = {...state}\n            Object.keys(state).forEach((key)=>{\n                if(outputState[key].hasOwnProperty('touched')){\n                    outputState[key].touched = true;\n                }\n            })\n            return outputState\n        default:\n            return { ...state };\n    }\n}\n","const initialState = {\n    width: 4,\n    mobile: false\n};\n\n\nexport default function ViewportReducer(state = initialState, action) {\n    let payload = action.payload\n    switch (action.type) {\n        case 'VIEWPORT/SET_WIDTH':\n            console.log('setting viewport width to: ' + payload)\n            return {...payload}\n        default:\n            return state;\n    }\n}\n","import {combineReducers} from 'redux'\nimport UserStateReducer from 'components/common/state/UserStateReducer'\nimport ActivityReducer from 'components/activity/state/ActivityReducer.js'\nimport MealFormReducer from 'components/meal_form/state/MealFormReducer.js'\nimport HealthCheckFormReducer from 'components/health_check_form/state/healthCheckFormReducer'\nimport LoginFormReducer from 'components/login_form/state/loginFormReducer'\nimport UserMenuReducer from 'components/user_menu/state/UserMenuReducer'\nimport ViewReducer from './ViewReducer'\nimport RegisterFormReducer from 'components/register_form/state/registerFormReducer'\nimport ViewportReducer from './ViewportReducer'\n\nconst rootReducer = combineReducers({\n    UserState: UserStateReducer,\n    activity: ActivityReducer,\n    mealForm: MealFormReducer,\n    healthCheckForm: HealthCheckFormReducer,\n    loginForm: LoginFormReducer,\n    userMenu: UserMenuReducer,\n    view: ViewReducer,\n    registerForm: RegisterFormReducer,\n    viewport: ViewportReducer,\n})\n\nexport default rootReducer","import { createStore, applyMiddleware, compose } from 'redux';\nimport rootReducer from './RootReducer.js';\nimport thunk from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nconst middleWare = compose(applyMiddleware(thunk));\n\nconst store = createStore(rootReducer, composeWithDevTools(middleWare));\n\nexport default store;\n","import dayjs from 'dayjs';\nimport customParseFormat from 'dayjs/plugin/customParseFormat';\ndayjs().format();\ndayjs.extend(customParseFormat);\n\nexport function stringToUnixTime(date, time) {\n    return dayjs(`${date} ${time}`, 'YYYY-MM-DD HH:mm').unix();\n}\nexport function unixToDateString(unixTime = dayjs().unix()) {\n    return dayjs.unix(unixTime).format('YYYY-MM-DD');\n}\nexport function unixToTimeString(unixTime = dayjs().unix()) {\n    return dayjs.unix(unixTime).format('HH:mm');\n}\n","import store from 'components/common/state/Store';\nimport { unixToDateString, unixToTimeString } from 'components/common/utils/DateHandler';\n\nexport function editMeal(_id) {\n    let currentEntry = store.getState().activity.data[_id];\n    return {\n        type: 'MEAL_FORM/EDIT',\n\n        payload: {\n            edit: true,\n            show: true,\n            ...currentEntry,\n            timeString: unixToTimeString(currentEntry.time),\n            dateString: unixToDateString(currentEntry.time),\n        },\n    };\n}\n\nexport function formChange(payload) {\n    return {\n        type: 'MEAL_FORM/CHANGE',\n        payload,\n    };\n}\n\nexport function deleteIngredient(payload) {\n    return {\n        type: 'MEAL_FORM/DELETE_INGREDIENT',\n        payload,\n    };\n}\n\nexport function newMeal() {\n    console.log('new meal action');\n    return {\n        type: 'MEAL_FORM/NEW',\n        payload: {\n            new: true,\n            show: true,\n            timeString: unixToTimeString(),\n            dateString: unixToDateString(),\n        },\n    };\n}\n\nexport function closeMealForm() {\n    return {\n        type: 'MEAL_FORM/CLOSE',\n    };\n}\n","import store from 'components/common/state/Store';\nimport {\n    unixToDateString,\n    unixToTimeString,\n} from 'components/common/utils/DateHandler';\n\nexport function editHealthCheck(id) {\n    let currentEntry = store.getState().activity.data[id];\n    return {\n        type: 'HEALTH_CHECK_FORM/EDIT',\n\n        payload: {\n            edit: true,\n            show: true,\n            ...currentEntry,\n            timeString: unixToTimeString(currentEntry.time),\n            dateString: unixToDateString(currentEntry.time),\n        },\n    };\n}\n\nexport function formChange(payload) {\n    return {\n        type: 'HEALTH_CHECK_FORM/CHANGE',\n        payload,\n    };\n}\n\nexport function deleteSymptom(payload) {\n    return {\n        type: 'HEALTH_CHECK_FORM/DELETE_SYMPTOM',\n        payload,\n    };\n}\n\nexport function newHealthCheck() {\n    console.log('new meal action');\n    return {\n        type: 'HEALTH_CHECK_FORM/NEW',\n        payload: {\n            new: true,\n            show: true,\n            timeString: unixToTimeString(),\n            dateString: unixToDateString(),\n        },\n    };\n}\nexport function closeHealthCheckForm() {\n    return {\n        type: 'HEALTH_CHECK_FORM/CLOSE',\n    };\n}\n","import React from 'react';\nimport * as API from '../common/utils/api.js';\nimport { useDispatch } from 'react-redux';\nimport { editMeal } from 'components/meal_form/state/MealFormActions';\nimport { loadInitialActivity } from 'components/activity/state/ActivityActions';\nimport { editHealthCheck } from 'components/health_check_form/state/healthCheckFormActions.js';\n\nexport default function ManageEntry(props) {\n    const dispatch = useDispatch();\n    let { _id, type } = props.entry;\n    let endpoint;\n    if (type === 'meal') endpoint = 'meals';\n    if (type === 'healthCheck') endpoint = 'health-checks';\n\n    async function handleDelete(e) {\n        e.preventDefault();\n        try {\n            await API.deleteByID(`activity/${endpoint}`, _id);\n            dispatch(loadInitialActivity());\n        } catch (error) {\n            console.error(error);\n        }\n    }\n\n    function handleEdit(e) {\n        e.preventDefault();\n        if (type === 'meal') dispatch(editMeal(_id));\n        if (type === 'healthCheck') dispatch(editHealthCheck(_id));\n    }\n\n    return (\n        <div>\n            <a onClick={handleDelete} href=\"#\"><i  className=\"fas fa-times manage-icon\"></i></a>\n            <a onClick={handleEdit} href=\"#\">\n                <i  className=\"fas fa-pencil-alt manage-icon\"></i>\n            </a>\n        </div>\n    );\n}\n","import React from 'react';\nimport dayjs from 'dayjs';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Pill from '../Pill.jsx';\nimport ManageEntry from './ManageEntry';\nimport './Entry.scss';\nimport { useSelector } from 'react-redux';\n\nexport default function MealEntry(props) {\n    let { entry } = props;\n    let { ingredients, mealType, time } = entry;\n    let currentKeywordFilters = useSelector(state => state.activity.filters.keywords)\n\n    function getEmoji(type) {\n        return {\n            Breakfast: '🍳',\n            Lunch: '🥪',\n            Dessert: '🧁',\n            Snack: '🍇',\n            Dinner: '🍴',\n            Drink: '🥤',\n            HealthCheck: '❤️',\n        }[type];\n    }\n\n    return (\n        <Container className=\"entry-container\" fluid>\n            <Row>\n                <Col xs={12} md=\"auto\" className=\"time-container\">\n                    {dayjs.unix(time).format('h:mm A')}\n                </Col>\n                <Col xs={12} md={true} className=\"entry-data-container meal-entry-container\">\n                    <Row>\n                        <Col>\n                            <Row className=\"entry-heading\">\n                                <Col>\n                                    <h5>\n                                        <span className=\"emoji\">{getEmoji(mealType)}</span>\n                                        {mealType}\n                                    </h5>\n                                </Col>\n                            </Row>\n                            <Row className=\"entry-section\">\n                                <Col xs=\"auto\">\n                                    <div className=\"section-title\">Ingredients:</div>\n                                </Col>\n                                <Col xs={true}>\n                                    {ingredients.map((ingredient, index) => {\n                                        let matchesKeyword = currentKeywordFilters.some(keyword=>{\n                                            return ingredient.name.match(new RegExp(keyword, 'gi'))\n                                        })\n                                        return (\n                                            <Pill margin={5} highlight={matchesKeyword} key={index} text={ingredient.name} color=\"brown\" size=\"sm\" />\n                                        );\n                                    })}\n                                </Col>\n                            </Row>\n                        </Col>\n                        <Col xs={12} md=\"auto\" className=\"manage-entry-col\">\n                            <ManageEntry entry={entry} />\n                        </Col>\n                    </Row>\n                </Col>\n            </Row>\n        </Container>\n    );\n}\n","import React from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Pill from '../Pill.jsx';\nimport './Entry.scss';\nimport ManageEntry from './ManageEntry.jsx';\nimport dayjs from 'dayjs';\nimport { useSelector } from 'react-redux';\n\n\nexport default function HealthCheckEntry(props) {\n    let { entry } = props;\n    let { symptoms, time } = entry;\n    let currentKeywordFilters = useSelector(state => state.activity.filters.keywords)\n\n    return (\n        <Container className=\"entry-container\" fluid>\n            <Row>\n                <Col xs={12} md=\"auto\" className=\"time-container\">\n                    {dayjs.unix(time).format('h:mm A')}\n                </Col>\n                <Col xs={12} md={true} className=\"entry-data-container health-check-entry-container\">\n                    <Row>\n                        <Col>\n                            <Row className=\"entry-heading\">\n                                <Col>\n                                    <h5>\n                                        <span className=\"emoji\">❤️</span>Wellness Check\n                                    </h5>\n                                </Col>\n                            </Row>\n                            <Row className=\"entry-section\">\n                                <Col xs=\"auto\">\n                                    <div className=\"section-title\">Symptoms:</div>\n                                </Col>\n                                <Col xs={true}>\n                                    {symptoms.map((symptom, index) => {\n                                        let matchesKeyword = currentKeywordFilters.some(keyword=>{\n                                            return symptom.description.match(new RegExp(keyword, 'gi'))\n                                        })\n                                        return (\n                                            <Pill margin={5} key={index} highlight={matchesKeyword} text={symptom.description} color=\"brown\" size=\"sm\" />\n                                        );\n                                    })}\n                                </Col>\n                            </Row>\n                        </Col>\n                        <Col xs={12} md=\"auto\" className=\"manage-entry-col\">\n                            <ManageEntry entry={entry} />\n                        </Col>\n                    </Row>\n                </Col>\n            </Row>\n        </Container>\n    );\n}\n","import React from 'react';\nimport MealEntry from './MealEntry.jsx';\nimport HealthCheckEntry from './HealthCheckEntry.jsx';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport './DateBlock.scss';\n\nexport default function DateBlock(props) {\n    let { entries, index } = props;\n    return (\n        <div>\n            {index > 0 && <hr />}\n            <Container fluid className=\"date-block-container\">\n                <Row>\n                    <Col xs={12} md='auto' className=\"date-col\">\n                        <div className=\"date-container\">\n                            {entries[0].date}\n                        </div>\n                    </Col>\n                    <Col xs={12} md={true}  className=\"entries-col\">\n                        {entries.map((entry) => {\n                            if (entry.type === 'meal')\n                                return <MealEntry key={entry._id} entry={entry} />;\n                            if (entry.type === 'healthCheck')\n                                return <HealthCheckEntry key={entry._id} entry={entry} />;\n                            return null\n                        })}\n                    </Col>\n                </Row>\n            </Container>\n        </div>\n    );\n}\n","import React from 'react';\nimport './ActivityControls.scss';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { newMeal } from 'components/meal_form/state/MealFormActions';\nimport Button from 'react-bootstrap/Button';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport { newHealthCheck } from 'components/health_check_form/state/healthCheckFormActions';\nimport Form from 'react-bootstrap/Form';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport { useState } from 'react';\nimport { addFilterKeyword, deleteFilterKeyword } from './state/ActivityActions';\nimport Pill from 'components/Pill';\n\nexport default function AddButtonsContainer(props) {\n    let [filterInput, setFilterInput] = useState({ value: '', valid: false });\n    const dispatch = useDispatch();\n    let currentKeywordFilters = useSelector((state) => state.activity.filters.keywords);\n\n    function handleFilterInputSubmit() {\n        if (filterInput.value === '' || !filterInput.valid || filterInput.value.match(/^\\s$/))\n            return;\n        dispatch(addFilterKeyword(filterInput.value));\n        setFilterInput({ value: '', valid: false });\n    }\n\n    return (\n        <Container className=\"activity-controls-container\">\n            <Row>\n                <Col className=\"bs-col\" xs={6} md=\"auto\">\n                    <Button\n                        onClick={() => {\n                            dispatch(newMeal());\n                        }}\n                        className=\"button-light-brown\"\n                        variant=\"default\">\n                        <i className=\"fas fa-plus\"></i> Add Meal\n                    </Button>\n                </Col>\n                <Col className=\"bs-col\" xs={6} md=\"auto\">\n                    <Button\n                        onClick={() => {\n                            dispatch(newHealthCheck());\n                        }}\n                        className=\"button-light-brown\"\n                        variant=\"default\">\n                        <i className=\"fas fa-plus\"></i> Add Wellness Check\n                    </Button>\n                </Col>\n                <Col className=\"bs-col\" xs={12} md=\"auto\">\n                    <form\n                        onSubmit={(e) => {\n                            e.preventDefault();\n                            handleFilterInputSubmit();\n                        }}>\n                        <InputGroup>\n                            <Form.Control\n                                className=\"filter-input\"\n                                onSubmit={(e) => {\n                                    console.log(e);\n                                }}\n                                value={filterInput.value}\n                                onChange={(e) => {\n                                    if (e.target.value.match(/^\\s/)) return false;\n                                    setFilterInput({ valid: true, value: e.target.value });\n                                }}\n                                placeholder=\"Filter Results\"\n                                type=\"input\"\n                            />\n                            <InputGroup.Text\n                                className=\"submit-btn2 button-light-brown\"\n                                onClick={handleFilterInputSubmit}>\n                                +\n                            </InputGroup.Text>\n                        </InputGroup>\n                    </form>\n                </Col>\n            </Row>\n            <Row>\n                {currentKeywordFilters.map((keyword, i) => {\n                    return (\n                        <Col key={i} className=\"bs-col filter-instance\" xs=\"auto\">\n                            <Pill\n                                text={'#' + keyword}\n                                size=\"lg\"\n                                color=\"brown\"\n                                deleteable\n                                onDelete={() => {\n                                    dispatch(deleteFilterKeyword(keyword));\n                                }}\n                            />\n                        </Col>\n                    );\n                })}\n            </Row>\n        </Container>\n    );\n}\n","import React, { useState } from 'react';\nimport _ from 'lodash';\nimport { AsyncTypeahead, Hint, Menu } from 'react-bootstrap-typeahead';\nimport 'react-bootstrap-typeahead/css/Typeahead.css';\nimport * as API from './utils/api.js';\nimport { Form } from 'react-bootstrap';\n\nexport default function InputAutoComplete(props) {\n    let {\n        submit,\n        placeholder,\n        apiEndpoint,\n        allowNewItems,\n        suggestions,\n        clearOnSubmit,\n        selectOnBlur,\n    } = props;\n\n    let [isLoading, setIsLoading] = useState(false);\n    let [options, setOptions] = useState([]);\n    let [selected, setSelected] = useState([]);\n    let [currentSelection, setCurrentSelection] = useState();\n    let [lastSubmittedVal, setLastSubmittedVal] = useState();\n\n    let inputText;\n\n    async function handleSearch(query) {\n        if (suggestions) {\n            //if suggestions prop is supplied use supplied array\n            setOptions(suggestions);\n        } else {\n            //if no suggestions prop is supplied, query api for suggestions\n            setIsLoading(true);\n            query = _.startCase(_.lowerCase(query));\n            let url = `suggestions/${apiEndpoint}/${query}`;\n            setOptions(await API.get(url));\n            setIsLoading(false);\n        }\n    }\n\n    function submitHandler(value) {\n        if (value.length <= 0) return;\n        setLastSubmittedVal(value)\n        let outputValue = value[0];\n        let newItem = false;\n        if (typeof outputValue === 'object') {\n            outputValue = outputValue.label;\n            newItem = true;\n        }\n        outputValue = _.startCase(_.lowerCase(outputValue));\n        if (allowNewItems && newItem) {\n            postValue(outputValue);\n        }\n        submit(outputValue);\n        if (clearOnSubmit) setSelected(['']);\n    }\n\n    async function postValue(value) {\n        await API.post(apiEndpoint, { value });\n    }\n\n    return (\n        <AsyncTypeahead\n            selectHintOnEnter={true}\n            id=\"autocomplete-input\"\n            minLength={1}\n            allowNew={allowNewItems}\n            delay={100}\n            newSelectionPrefix=\"Add a new item: \"\n            isLoading={isLoading}\n            options={options}\n            selected={selected}\n            placeholder={placeholder}\n            onChange={(newSelection) => {   \n                setSelected(newSelection);\n                submitHandler(newSelection);\n            }}\n            onMenuToggle={(opening) => {\n                //if select on blur prop is true, and menu is being closed\n                if (selectOnBlur && !opening) {\n                    if (inputText && currentSelection) {\n                        setSelected([currentSelection]);\n                        submitHandler([currentSelection]);\n                        setCurrentSelection('');\n                    } else if(!inputText) {\n                        setSelected(['']);\n                        submitHandler(['']);\n                    }   \n                }\n            }}\n            highlightOnlyResult={selectOnBlur}\n            onSearch={handleSearch}>\n            {selectOnBlur &&\n                ((state) => {\n                    inputText = state.text;\n                    //next line is a workaround, active index is not set if there is only one result\n                    if (state.results.length === 1) return setCurrentSelection(state.results[0]); \n                    return setCurrentSelection(state.results[state.activeIndex]);\n                })}\n        </AsyncTypeahead>\n    );\n}\n","import React from 'react';\nimport { useState } from 'react';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport { useDispatch, useSelector } from 'react-redux';\nimport _ from 'lodash';\n\nimport InputAutoComplete from 'components/common/InputAutoComplete';\nimport { closeMealForm, deleteIngredient, formChange } from './state/MealFormActions';\nimport * as API from 'components/common/utils/api';\nimport { stringToUnixTime } from 'components/common/utils/DateHandler';\nimport './MealForm.scss';\nimport { insertEntryLocal, updateEntryLocal } from 'components/activity/state/ActivityActions';\nimport Pill from 'components/Pill';\n\nexport default function MealForm(props) {\n    let [processing, setProcessing] = useState(false);\n    let state = useSelector((state) => state.mealForm);\n    const dispatch = useDispatch();\n\n    async function handleSubmit() {\n        try {\n            setProcessing(true);\n            let unixTime = stringToUnixTime(state.dateString, state.timeString);\n            let newMeal = {\n                ingredients: state.ingredients.map((ingredient) => ingredient.name),\n                type: state.mealType,\n                time: unixTime,\n            };\n            if (state.new) {\n                let newEntry = await API.post('activity/meals', newMeal);\n                dispatch(insertEntryLocal(newEntry));\n            }\n            if (state.edit) {\n                let updatedEntry = await API.put('activity/meals/' + state._id, newMeal);\n                dispatch(updateEntryLocal(updatedEntry));\n\n            }\n            setProcessing(false);\n            handleClose();\n\n            //dispatch(loadInitialActivity());\n        } catch (error) {\n            console.log(error);\n            setProcessing(false);\n            //handleClose();\n        }\n    }\n    async function handleClose() {\n        dispatch(closeMealForm());\n    }\n\n    function addIngredient(newIngredient) {\n        newIngredient = _.startCase(_.lowerCase(newIngredient));\n        if (state.ingredients.map((ingredient) => ingredient.name).includes(newIngredient)) return;\n        dispatch(\n            formChange({\n                ingredients: [...state.ingredients, { name: newIngredient }],\n            })\n        );\n    }\n\n    return (\n        <Modal show={state.show} onHide={handleClose}>\n            <Modal.Header closeButton>\n                {state.edit && <Modal.Title>Edit Meal</Modal.Title>}\n                {state.new && <Modal.Title>Post New Meal</Modal.Title>}\n            </Modal.Header>\n            <Modal.Body>\n                <div className=\"meal-form-container\">\n                    <Row>\n                        <Col xs={12}>\n                            <InputAutoComplete\n                                selectOnBlur\n                                submit={(value) => {\n                                    dispatch(formChange({ mealType: value }));\n                                }}\n                                suggestions={[\n                                    'Breakfast',\n                                    'Lunch',\n                                    'Dinner',\n                                    'Snack',\n                                    'Dessert',\n                                    'Drink',\n                                ]}\n                                defaultInputValue={state.mealType}\n                                placeholder=\"Meal Type (ie: Breakfast, Lunch, Dinner)\"\n                            />\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col xs={6}>\n                            <Form.Control\n                                type=\"date\"\n                                value={state.dateString}\n                                onChange={(e) => {\n                                    dispatch(\n                                        formChange({\n                                            dateString: e.target.value,\n                                        })\n                                    );\n                                }}\n                            />\n                        </Col>\n                        <Col xs={6}>\n                            <Form.Control\n                                type=\"time\"\n                                value={state.timeString}\n                                onChange={(e) => {\n                                    dispatch(\n                                        formChange({\n                                            timeString: e.target.value,\n                                        })\n                                    );\n                                }}\n                            />\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col>\n                            <InputAutoComplete\n                                allowNewItems\n                                submit={addIngredient}\n                                apiEndpoint=\"ingredients\"\n                                clearOnSubmit\n                                placeholder=\"Add Ingredients One at a Time\"\n                            />\n                        </Col>\n                    </Row>\n                    <div className=\"ingredient-list\">\n                        {state.ingredients.map((ingredient, index) => {\n                            return (\n                                <Pill\n                                    key={index}\n                                    deleteable\n                                    margin=\"10px\"\n                                    onDelete={() => {\n                                        dispatch(deleteIngredient(ingredient));\n                                    }}\n                                    text={ingredient.name}\n                                    color=\"brown\"\n                                    size=\"md\"\n                                />\n                            );\n                        })}\n                    </div>\n                </div>\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"default\" onClick={handleClose}>\n                    Cancel\n                </Button>\n                {state.new && (\n                    <Button\n                        className=\"button-light-green\"\n                        disabled={processing}\n                        variant=\"default\"\n                        onClick={handleSubmit}>\n                        {processing ? 'Posting' : 'Post Meal'}\n                    </Button>\n                )}\n                {state.edit && (\n                    <Button\n                        className=\"button-light-green\"\n                        disabled={processing}\n                        variant=\"default\"\n                        onClick={handleSubmit}>\n                        {processing ? 'Saving' : 'Save Changes'}\n                    </Button>\n                )}\n            </Modal.Footer>\n        </Modal>\n    );\n}\n","import dayjs from 'dayjs';\nimport isYesterday from 'dayjs/plugin/isYesterday';\nimport isToday from 'dayjs/plugin/isToday';\nimport customParseFormat from 'dayjs/plugin/customParseFormat';\ndayjs().format();\ndayjs.extend(isYesterday);\ndayjs.extend(isToday);\ndayjs.extend(customParseFormat);\n\nfunction unixTimeToDate(time) {\n    let date = dayjs.unix(time);\n    if (date.isYesterday()) return 'Yesterday';\n    if (date.isToday()) return 'Today';\n    let oneWeekAgo = dayjs().subtract(1, 'week');\n    if (date.isAfter(oneWeekAgo)) {\n        return date.format('dddd');\n    }\n    return date.format('MMM DD');\n}\n\nfunction copyObjToArray(dataObject) {\n    return Object.entries(dataObject).map(([key, val]) => {\n        return { ...val }; //spread operator prevents state mutation by creating shallow copy\n    });\n}\n\nexport const build = (activityEntriesObj) => {\n    let activityEntriesArrSorted = copyObjToArray(activityEntriesObj).sort((a, b) => b.time - a.time);\n    return activityEntriesArrSorted.reduce((output, currEntry, index, currArray) => {\n        currEntry.date = unixTimeToDate(currEntry.time);\n        if (index === 0) {\n            output.push([currEntry]);\n            return output;\n        }\n        let lastEntry = currArray[index - 1];\n        if (lastEntry.date === currEntry.date) {\n            output[output.length - 1].push(currEntry);\n            return output;\n        }\n        output.push([currEntry]);\n        return output;\n    }, []);\n};\n\n//OLD HARD TO READ CODE\n\n// export function create(dataObject) {\n//     console.log(dataObject)\n//     let dataArray = toSortedArray(dataObject)\n//     return dataArray.reduce((acc, currentEntry) => {\n//         currentEntry.date = toDate(currentEntry.time);\n//         let lastSubArray = acc[acc.length - 1];\n//         if (!lastSubArray) return [[currentEntry]];\n//         let lastEntry = lastSubArray[lastSubArray.length - 1];\n//         if (lastEntry.date === currentEntry.date) {\n//             acc[acc.length - 1].unshift(currentEntry);\n//             return acc;\n//         }\n//         acc.push([currentEntry]);\n//         return acc;\n//     }, []);\n// }\n","import React, { useState } from 'react';\nimport Form from 'react-bootstrap/Form';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport _ from 'lodash';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { closeHealthCheckForm, formChange, deleteSymptom } from './state/healthCheckFormActions';\nimport InputAutoComplete from 'components/common/InputAutoComplete';\nimport Pill from 'components/Pill';\nimport * as API from 'components/common/utils/api';\nimport { stringToUnixTime } from 'components/common/utils/DateHandler';\nimport './HealthCheckForm.scss';\nimport { insertEntryLocal, updateEntryLocal } from 'components/activity/state/ActivityActions';\n\nexport default function HealthCheckForm() {\n    let [processing, setProcessing] = useState(false);\n    let state = useSelector((state) => state.healthCheckForm);\n    let dispatch = useDispatch();\n\n    function handleClose() {\n        dispatch(closeHealthCheckForm());\n    }\n    function handleMoodSelect(val) {\n        dispatch(\n            formChange({\n                mood: val,\n            })\n        );\n    }\n    function addSymptom(newSymptom) {\n        newSymptom = _.startCase(_.lowerCase(newSymptom));\n        if (state.symptoms.map((symptom) => symptom.description).includes(newSymptom)) return;\n        dispatch(\n            formChange({\n                symptoms: [...state.symptoms, { description: newSymptom }],\n            })\n        );\n    }\n    async function handleSubmit() {\n        try {\n            setProcessing(true);\n            let unixTime = stringToUnixTime(state.dateString, state.timeString);\n            let newHealthCheck = {\n                symptoms: state.symptoms.map((symptom) => symptom.description),\n                mood: state.mood,\n                time: unixTime,\n            };\n            if (state.new) {\n                let newEntry = await API.post('activity/health-checks', newHealthCheck);\n                dispatch(insertEntryLocal(newEntry));\n            }\n            if (state.edit) {\n                let updatedEntry = await API.put('activity/health-checks/' + state._id, newHealthCheck);\n                dispatch(updateEntryLocal(updatedEntry));\n            }\n            setProcessing(false);\n            handleClose();\n        } catch (error) {\n            console.log(error);\n            setProcessing(false);\n        }\n    }\n\n    return (\n        <Modal show={state.show} onHide={handleClose}>\n            <Modal.Header closeButton>\n                {state.edit && <Modal.Title>Edit Wellness Check</Modal.Title>}\n                {state.new && <Modal.Title>Post New Wellness Check</Modal.Title>}\n            </Modal.Header>\n            <Modal.Body>\n                <div className=\"health-check-form-container\">\n                    <Row>\n                        <Col xs={6}>\n                            <Form.Control\n                                type=\"date\"\n                                name=\"date\"\n                                value={state.dateString}\n                                onChange={(e) => {\n                                    dispatch(\n                                        formChange({\n                                            dateString: e.target.value,\n                                        })\n                                    );\n                                }}\n                            />\n                        </Col>\n                        <Col xs={6}>\n                            <Form.Control\n                                type=\"time\"\n                                name=\"time\"\n                                value={state.timeString}\n                                onChange={(e) => {\n                                    dispatch(\n                                        formChange({\n                                            timeString: e.target.value,\n                                        })\n                                    );\n                                }}\n                            />\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col xs={12}>\n                            <ButtonGroup style={{ display: 'flex' }}>\n                                <Button\n                                    onClick={() => handleMoodSelect(1)}\n                                    className=\"mood-button\"\n                                    variant={state.mood === 1 ? 'secondary' : 'light'}>\n                                    Grumpy\n                                </Button>\n                                <Button\n                                    onClick={() => handleMoodSelect(2)}\n                                    className=\"mood-button\"\n                                    variant={state.mood === 2 ? 'secondary' : 'light'}>\n                                    Neutral\n                                </Button>\n                                <Button\n                                    onClick={() => handleMoodSelect(3)}\n                                    className=\"mood-button\"\n                                    variant={state.mood === 3 ? 'secondary' : 'light'}>\n                                    Upbeat\n                                </Button>\n                            </ButtonGroup>\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col>\n                            <InputAutoComplete\n                                submit={addSymptom}\n                                allowNewItems\n                                clearOnSubmit\n                                placeholder=\"Add Symptoms One at a Time\"\n                                apiEndpoint=\"symptoms\"\n                            />\n                        </Col>\n                    </Row>\n                    <div className=\"symptom-list\">\n                        {state.symptoms.map((symptom, index) => {\n                            return (\n                                <Pill\n                                    key={index}\n                                    text={symptom.description}\n                                    deleteable\n                                    margin=\"10px\"\n                                    onDelete={() => {\n                                        dispatch(deleteSymptom(symptom));\n                                    }}\n                                    color=\"brown\"\n                                    size=\"md\"\n                                />\n                            );\n                        })}\n                    </div>\n                </div>\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"default\" onClick={handleClose}>\n                    Cancel\n                </Button>\n                {state.new && (\n                    <Button\n                        className=\"button-light-green\"\n                        disabled={processing}\n                        variant=\"default\"\n                        onClick={handleSubmit}>\n                        {processing ? 'Posting' : 'Post Health Check'}\n                    </Button>\n                )}\n                {state.edit && (\n                    <Button\n                        className=\"button-light-green\"\n                        disabled={processing}\n                        variant=\"default\"\n                        onClick={handleSubmit}>\n                        {processing ? 'Saving' : 'Save Changes'}\n                    </Button>\n                )}\n            </Modal.Footer>\n        </Modal>\n    );\n}\n","import React, { useEffect } from 'react';\nimport './Activity.scss';\nimport DateBlock from './DateBlock.jsx';\nimport ActivityControls from 'components/activity/ActivityControls';\nimport MealForm from 'components/meal_form/MealForm';\nimport * as FeedArray from './utils/feedArray';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { loadInitialActivity, loadMoreActivity } from 'components/activity/state/ActivityActions';\nimport HealthCheckForm from 'components/health_check_form/HealthCheckForm';\nimport Spinner from 'react-bootstrap/Spinner';\nimport Button from 'react-bootstrap/Button';\n\nexport default function Activity(props) {\n    const dispatch = useDispatch();\n    let state = useSelector((state) => state);\n    let { totalEntriesCount, localEntriesCount, loadingInitial, loadingMore } = useSelector(\n        (state) => state.activity\n    );\n\n    useEffect(() => {\n        dispatch(loadInitialActivity());\n    }, [state.view.currentView, state.activity.filters]);\n\n    return (\n        <div className=\"activity-container\">\n            <ActivityControls />\n            <MealForm />\n            <HealthCheckForm />\n            {loadingInitial ? (\n                <Spinner animation=\"border\" className=\"loading-spinner\" />\n            ) : (\n                <div>\n                    <hr />\n                    {/* ENTRIES FEED*/}\n                    {FeedArray.build(state.activity.data).map((dateBlock, index) => {\n                        return <DateBlock key={index} index={index} entries={dateBlock} />;\n                    })}\n                    {/* LOADED ENTRIES MESSAGE */}\n                    <div style={{ textAlign: 'center' }}>\n                        <em style={{ fontSize: '.8em' }}>\n                            viewing {localEntriesCount} of {totalEntriesCount}\n                        </em>\n                    </div>\n                    {/* LOAD MORE ENTRIES BUTTON */}\n                    {totalEntriesCount > localEntriesCount && (\n                        <div className=\"load-more-button-container\">\n                            <hr />\n                            <Button\n                                style={{ width: '100%' }}\n                                className=\"button-dark-brown\"\n                                onClick={() => {\n                                    dispatch(loadMoreActivity());\n                                }}>\n                                {loadingMore ? (\n                                    'Loading...'\n                                ) : (\n                                    <>\n                                        Load\n                                        {totalEntriesCount - localEntriesCount > 10\n                                            ? ' 10 More'\n                                            : ` ${\n                                                  totalEntriesCount - localEntriesCount\n                                              } Remaining`}{' '}\n                                        Entries\n                                    </>\n                                )}\n                            </Button>\n                        </div>\n                    )}\n                </div>\n            )}\n        </div>\n    );\n}\n","import React from 'react';\nimport NavigationMenu from './NavigationMenu';\nimport NavigationMenuMobile from 'components/NavigationMenuMobile';\nimport Activity from './activity/Activity';\nimport { useSelector } from 'react-redux';\nimport LoginForm from './login_form/LoginForm';\nimport './Dashboard.scss';\nimport UserMenu from './user_menu/UserMenu';\n\nexport default function Dashboard(props) {\n    let viewState = useSelector((state) => state.view);\n    let loggedIn = useSelector((state) => state.UserState.isLoggedIn)\n    let mobile = useSelector((state) => state.viewport.mobile);\n\n    return (\n        <div className=\"dashboard-container\" style={{ position: 'relative' }}>\n\n\n            {loggedIn && mobile ? <NavigationMenuMobile /> : <NavigationMenu />}\n            {loggedIn && (viewState.currentView === 'activity') && <Activity />}\n            {loggedIn && <UserMenu/>}\n\n            {!loggedIn && mobile && <LoginForm />}\n        </div>\n    );\n}\n","export function setViewportSize(payload){\n    return {\n        type: 'VIEWPORT/SET_WIDTH',\n        payload\n    }\n}","import React from 'react'\nimport './Welcome.scss'\nimport LoginForm from 'components/login_form/LoginForm'\nimport { useSelector } from 'react-redux';\n\nexport default function Welcome(){\n    let mobile = useSelector((state) => state.viewport.mobile);\n\n    return (\n        <div className=\"welcome-container\">\n            {mobile && <div className=\"login-form-container\">\n                <LoginForm />\n            </div>}\n        </div>\n    )\n}","import React, { useEffect } from 'react';\nimport Header from 'components/header/Header';\nimport Dashboard from './Dashboard';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { attemptLogIn } from './common/state/UserStateActions.js';\nimport store from './common/state/Store';\nimport { setViewportSize } from './common/state/ViewportActions';\nimport Welcome from './welcome/Welcome';\n\nfunction App() {\n    let loggedIn = useSelector((state) => state.UserState.isLoggedIn);\n\n    const dispatch = useDispatch();\n\n    function handleResize() {\n        let lastViewportSize = store.getState().viewport.width;\n        let currentViewportSize = ((width) => {\n            if (width >= 1200) return 5;\n            if (width >= 992) return 4;\n            if (width >= 768) return 3;\n            if (width >= 576) return 2;\n            return 1;\n        })(window.innerWidth);\n        if (lastViewportSize !== currentViewportSize) {\n            if (currentViewportSize < 3) {\n                dispatch(setViewportSize({ width: currentViewportSize, mobile: true }));\n            } else {\n                dispatch(setViewportSize({ width: currentViewportSize, mobile: false }));\n            }\n        }\n    }\n\n    useEffect(() => {\n        handleResize();\n        dispatch(attemptLogIn());\n        window.addEventListener('resize', handleResize);\n        return () => {\n            window.removeEventListener('resize', handleResize);\n        };\n    }, []);\n\n    return (\n        <div>\n            <Header />\n            {loggedIn && <Dashboard />}\n            {!loggedIn && <Welcome />}\n        </div>\n    );\n}\n\nexport default App;\n","import store from 'components/common/state/Store.js';\nimport axios from 'axios';\nimport { attemptLogIn } from 'components/common/state/UserStateActions';\nlet dispatch = store.dispatch;\n\nfunction getToken() {\n    return store.getState().UserState.accessToken;\n}\n\nexport const configAxios = async () => {\n    axios.interceptors.request.use(\n        async (config) => {\n            console.log('axios: adding auth headers')\n            if (getToken().expired()) await dispatch(attemptLogIn());\n            config.headers = {\n                Authorization: `Bearer ${getToken().value}`,\n            };\n            return config;\n        },\n        (err) => {\n            console.log('axios interceptor err')\n            throw new Error(err);\n        }\n    );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './styles/main.scss';\nimport { Provider } from 'react-redux';\nimport store from 'components/common/state/Store.js';\nimport { configAxios } from 'components/common/utils/axiosConfig.js';\n\nconfigAxios();\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}