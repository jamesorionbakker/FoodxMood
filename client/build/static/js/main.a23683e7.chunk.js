(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{122:function(e,t,n){},147:function(e,t,n){},150:function(e,t,n){},151:function(e,t,n){},152:function(e,t,n){},153:function(e,t,n){},154:function(e,t,n){},155:function(e,t,n){},156:function(e,t,n){},157:function(e,t,n){},180:function(e,t,n){},181:function(e,t,n){},182:function(e,t,n){},183:function(e,t,n){},184:function(e,t,n){},185:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(31),c=n.n(r),s=(n(122),n(23)),i=n(14),o=n(8),l=n(17),u=n(9),d=n(7),j=n.n(d),b=n(13),O=n(49),h=n(65),m=n(83),p=function(){function e(t){Object(O.a)(this,e);var n=Object(m.a)(t),a=n.exp,r=n.username,c=n.firstName,s=n.lastName;this.value=t,this.exp=a,this.username=r,this.firstName=c,this.lastName=s}return Object(h.a)(e,[{key:"getCurrSeconds",value:function(){return Math.ceil(Date.now()/1e3)}},{key:"expired",value:function(){return this.exp<this.getCurrSeconds()+10}}]),e}();function f(){return x.apply(this,arguments)}function x(){return(x=Object(b.a)(j.a.mark((function e(){var t,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/access");case 2:if(200===(t=e.sent).status){e.next=8;break}return e.next=6,t.json();case 6:throw n=e.sent,new Error(n);case 8:return e.next=10,t.json();case 10:return a=e.sent,e.abrupt("return",new p(a));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=function e(t){if(Object(O.a)(this,e),t&&!t.expired()){this.accessToken=t;var n=t.username,a=t.firstName,r=t.lastName;this.username=n,this.firstName=a,this.lastName=r,this.isLoggedIn=!0}else this.accessToken=null,this.username="",this.firstName="",this.lastName="",this.isLoggedIn=!1};var g=n(43),y=n.n(g);function w(e){return{type:"USERSTATE/SET",payload:e}}function E(){return console.log("attempting login"),function(){var e=Object(b.a)(j.a.mark((function e(t,n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f();case 3:a=e.sent,t(w(new v(a))),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("no refresh token, login required"),t(w(new v));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()}function N(e){return{type:"LOGIN_FORM/SET",payload:e}}function T(e){return{type:"REGISTER_FORM/SET",payload:e}}function C(e){return{type:"REGISTER_FORM/VALIDATE",payload:e}}var I=n(19),k=n(18),S=n(21);n(147),n(106);function R(e){var t="Password must be at least 8 characters with at least one capital letter and one number";return/\s/.test(e)?{valid:!1,error:"Password cannot contain spaces. "+t}:/^\S{8,}$/i.test(e)&&/[A-Z]/.test(e)&&/\d/.test(e)?{valid:!0,error:""}:{valid:!1,error:t}}function _(e){var t=/^\w{1,}/i.test(e);return{valid:t,error:t?"":"Invalid Name"}}var A=n(20),L=n.n(A),M=n(0);function H(e){var t=e.name,n=e.state,a=e.validationCallback,r=e.placeholder,c=e.capitalize,i=e.type,o=e.validated,l=e.trimWhitespace,u=e.lowercase,d=e.onBlur,j=e.onChange;return Object(M.jsxs)(s.a.Group,{children:[Object(M.jsx)(s.a.Control,{name:t,value:n.value,isInvalid:o&&n.touched&&!n.valid,isValid:o&&n.touched&&n.valid,onBlur:function(e){e.target.value&&d(e,a)},onChange:function(e){var t=e.target,n=t.name,a=t.value;l&&(a=L.a.trim(a)),u&&(a=L.a.toLower(a)),c&&/\w$/.test(a)&&(a=a.split(/([\s-_.])/).reduce((function(e,t){return e+L.a.upperFirst(t)}),""),a=L.a.trim(a)),j({name:n,value:a})},type:i,placeholder:r}),Object(M.jsx)(s.a.Control.Feedback,{type:"invalid",children:n.error}),Object(M.jsx)(s.a.Control.Feedback,{type:"valid",children:n.error})]})}function F(){var e=Object(a.useState)(!1),t=Object(k.a)(e,2),n=t[0],r=t[1],c=Object(u.b)(),d=Object(u.c)((function(e){return e.registerForm}));function O(e){return h.apply(this,arguments)}function h(){return(h=Object(b.a)(j.a.mark((function e(t){var n,a,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),c({type:"REGISTER_FORM/TOUCH_ALL"}),d.password.valid){e.next=4;break}return e.abrupt("return");case 4:if(d.passwordVerify.valid){e.next=6;break}return e.abrupt("return");case 6:if(d.username.valid){e.next=8;break}return e.abrupt("return");case 8:if(d.firstName.valid){e.next=10;break}return e.abrupt("return");case 10:if(d.lastName.valid){e.next=12;break}return e.abrupt("return");case 12:return n={username:L.a.toLower(L.a.trim(d.username.value)),firstName:L.a.trim(d.firstName.value),lastName:L.a.trim(d.lastName.value),password:L.a.trim(d.password.value)},console.log(n),r(!0),e.prev=15,e.next=18,fetch("/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 18:if(200===(a=e.sent).status){e.next=21;break}throw new Error("Error ".concat(a.status));case 21:return console.log("success"),e.t0=p,e.next=25,a.json();case 25:e.t1=e.sent,s=new e.t0(e.t1),c(w(new v(s))),e.next=34;break;case 30:e.prev=30,e.t2=e.catch(15),r(!1),console.log(e.t2);case 34:case"end":return e.stop()}}),e,null,[[15,30]])})))).apply(this,arguments)}function m(e){return f.apply(this,arguments)}function f(){return(f=Object(b.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.name,a=t.value,c(T(Object(I.a)({},n,{value:a})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t){return g.apply(this,arguments)}function g(){return(g=Object(b.a)(j.a.mark((function e(t,n){var a,r,s,i,o,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target,r=a.name,s=a.value,e.next=3,n(s);case 3:i=e.sent,o=i.valid,l=i.error,c(C(Object(I.a)({},r,{value:s,valid:o,touched:!0,error:l})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(M.jsx)(S.a,{show:d.show,onHide:function(){return c({type:"REGISTER_FORM/HIDE"})},children:Object(M.jsxs)(s.a,{onSubmit:O,noValidate:!0,children:[Object(M.jsx)(S.a.Header,{children:Object(M.jsx)(S.a.Title,{children:"Sign Up!"})}),Object(M.jsxs)(S.a.Body,{className:"register-form-container",children:[Object(M.jsx)("h6",{children:"Personal info:"}),Object(M.jsxs)(i.a,{children:[Object(M.jsx)(o.a,{xs:6,children:Object(M.jsx)(H,{state:d.firstName,name:"firstName",capitalize:!0,validated:!0,placeholder:"First Name",validationCallback:_,onChange:m,onBlur:x})}),Object(M.jsx)(o.a,{xs:6,children:Object(M.jsx)(H,{state:d.lastName,name:"lastName",validated:!0,placeholder:"Last Name",validationCallback:_,capitalize:!0,onChange:m,onBlur:x})})]}),Object(M.jsx)(i.a,{children:Object(M.jsx)(o.a,{xs:12})}),Object(M.jsx)("hr",{}),Object(M.jsx)("h6",{children:"Account Info:"}),Object(M.jsx)(i.a,{children:Object(M.jsx)(o.a,{xs:12,children:Object(M.jsx)(H,{state:d.username,name:"username",validated:!0,trimWhitespace:!0,lowercase:!0,placeholder:"Username",validationCallback:function(){var e=Object(b.a)(j.a.mark((function e(t){var n,a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(/^\w{1,}$/i.test(t)){e.next=2;break}return e.abrupt("return",{valid:!1,error:"Invalid Username"});case 2:return e.next=4,fetch("validation/username/"+t);case 4:return n=e.sent,e.next=7,n.json();case 7:return a=e.sent,r=a?"Username is available":"Username is not available",e.abrupt("return",{valid:a,error:r});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onChange:m,onBlur:x})})}),Object(M.jsx)(i.a,{children:Object(M.jsx)(o.a,{xs:12,children:Object(M.jsx)(H,{type:"password",state:d.password,name:"password",validated:!0,placeholder:"Password",validationCallback:R,onChange:m,onBlur:x})})}),Object(M.jsx)(i.a,{children:Object(M.jsx)(o.a,{xs:12,children:Object(M.jsx)(H,{type:"password",state:d.passwordVerify,name:"passwordVerify",validated:!0,placeholder:"Verify Password",validationCallback:function(e){var t=d.password.value===e;return{valid:t,error:t?"":"Passwords do not match"}},onChange:m,onBlur:x})})})]}),Object(M.jsxs)(S.a.Footer,{children:[Object(M.jsx)(l.a,{variant:"default",onClick:function(){return c({type:"REGISTER_FORM/HIDE"})},children:"Cancel"}),Object(M.jsx)(l.a,{onClick:O,type:"submit",disabled:n,variant:"default",className:"button-light-green",children:n?"Creating Account":"Create Account"})]})]})})}function D(){var e=Object(u.c)((function(e){return e.loginForm})),t=Object(u.c)((function(e){return e.UserState})).attemptingLogin,n=Object(u.b)();return Object(M.jsx)("div",{className:"login-container",children:!t&&Object(M.jsx)(s.a,{className:"form",onSubmit:function(e){e.preventDefault(),console.log("signing in"),n(function(){var e=Object(b.a)(j.a.mark((function e(t,n){var a,r,c,s,i,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=n().loginForm,r=a.username,c=a.password,e.next=4,fetch("/login",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({username:r,password:c})});case 4:if(200===(s=e.sent).status){e.next=10;break}return e.next=8,s.json();case 8:throw i=e.sent,new Error(i);case 10:return e.t0=p,e.next=13,s.json();case 13:e.t1=e.sent,o=new e.t0(e.t1),t(w(new v(o))),t({type:"LOGIN_FORM/RESET"}),e.next=24;break;case 19:e.prev=19,e.t2=e.catch(0),console.log(e.t2),"invalid username"===e.t2.message&&t(N({invalidPassword:!1,invalidUsername:!0})),"invalid password"===e.t2.message&&t(N({invalidPassword:!0,invalidUsername:!1}));case 24:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t,n){return e.apply(this,arguments)}}())},children:Object(M.jsx)("div",{className:"login",children:Object(M.jsxs)(i.a,{className:"form-row",children:[Object(M.jsx)(o.a,{className:"form-col",md:"auto",children:Object(M.jsx)(s.a.Control,{autoCorrect:"off",autoCapitalize:"none",isInvalid:e.invalidUsername,name:"username",className:"username",placeholder:"User Name",value:e.username,onChange:function(e){n(N({username:e.target.value}))}})}),Object(M.jsx)(o.a,{className:"form-col",md:"auto",children:Object(M.jsx)(s.a.Control,{isInvalid:e.invalidPassword,name:"password",className:"password",type:"password",value:e.password,onChange:function(e){n(N({password:e.target.value}))},placeholder:"Password"})}),Object(M.jsx)(o.a,{className:"form-col",xs:6,md:"auto",children:Object(M.jsx)(l.a,{type:"submit",className:"login-button",variant:"light",children:"Sign In"})}),Object(M.jsxs)(o.a,{className:"form-col",xs:6,md:"auto",children:[Object(M.jsx)(l.a,{onClick:function(){return n({type:"REGISTER_FORM/SHOW"})},className:"button-dark-green signup-button",variant:"success",children:"Sign Up"}),Object(M.jsx)(F,{})]})]})})})})}n(150);var Y=n(32),V=n(63);n(151);function U(){var e=Object(u.c)((function(e){return e.userMenu})),t=Object(a.useState)(!1),n=Object(k.a)(t,2),r=n[0],c=n[1],s=Object(u.c)((function(e){return e.viewport.mobile})),i=Object(u.b)();return Object(M.jsx)("div",{children:Object(M.jsxs)(V.a,{className:"user-menu",show:e.show,onHide:function(){return i({type:"USER_MENU/HIDE"})},placement:s?"bottom":"end",children:[Object(M.jsx)(V.a.Header,{closeButton:!0,children:Object(M.jsx)(V.a.Title,{children:"Your Account"})}),Object(M.jsxs)(V.a.Body,{children:[Object(M.jsx)("div",{className:"options-container",children:Object(M.jsxs)("ul",{children:[Object(M.jsx)("li",{children:Object(M.jsx)("button",{className:"link",children:"Account Settings"})}),Object(M.jsx)("li",{children:Object(M.jsx)("button",{className:"link",children:"Help"})})]})}),Object(M.jsxs)("div",{className:"logout-button-container",children:[Object(M.jsx)("hr",{}),Object(M.jsx)(l.a,{disabled:r,variant:"default",className:"logout button-dark-green",onClick:Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,i(function(){var e=Object(b.a)(j.a.mark((function e(t,n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=function(){return n().UserState.accessToken},e.prev=1,!a().expired()){e.next=5;break}return e.next=5,t(E());case 5:return e.next=7,y.a.get("/logout");case 7:t({type:"USER_MENU/HIDE"}),t(w(new v)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)}))),children:r?"Logging Out":"Log Out"})]})]})]})})}function W(){var e=Object(u.c)((function(e){return e.UserState.isLoggedIn})),t=Object(u.c)((function(e){return e.viewport.mobile})),n=Object(u.b)();function a(){return Object(M.jsx)("div",{children:Object(M.jsxs)("h2",{children:["Hello, ",Object(u.c)((function(e){return e.UserState.firstName})),Object(M.jsx)(l.a,{className:"user-menu-button",variant:"outline-light",style:{marginLeft:"20px",color:"white",borderColor:"white"},onClick:function(){return n({type:"USER_MENU/SHOW"})},children:Object(M.jsx)("i",{className:"fas fa-bars"})})]})})}return Object(M.jsx)(Y.a,{fluid:!0,className:"header-container",children:Object(M.jsxs)(i.a,{className:"header",children:[Object(M.jsx)(o.a,{xs:12,md:!0,className:"logo",children:Object(M.jsxs)("h2",{children:["Food ",Object(M.jsx)("span",{className:"x",children:"x"})," Mood"," "]})}),Object(M.jsx)(o.a,{xs:0,md:!0,className:"filler"}),Object(M.jsxs)(o.a,{xs:0,md:"auto",className:"login",children:[e&&!t&&Object(M.jsx)(a,{}),!e&&!t&&Object(M.jsx)(D,{})]})]})})}n(152);var P=n(40),G=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("api get: "+t),e.next=3,y()({method:"get",url:"/api/".concat(t)});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(b.a)(j.a.mark((function e(t,n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y()({method:"post",url:"/api/".concat(t),data:n});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),$=function(){var e=Object(b.a)(j.a.mark((function e(t,n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y()({method:"put",url:"/api/".concat(t),data:n});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),z=function(){var e=Object(b.a)(j.a.mark((function e(t,n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y()({method:"delete",url:"/api/".concat(t,"/").concat(n)});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function K(e){return Object.fromEntries(e.map((function(e){return[e._id,e]})))}function J(e){var t=[];t.push(e().activity.filters.type),console.log(t);var n=e().activity.filters.keywords;return n.length>0&&t.push(function(e){var t=e.map((function(e){return{ingredients:{$elemMatch:{name:{$regex:e,$options:"i"}}}}})),n=e.map((function(e){return{symptoms:{$elemMatch:{description:{$regex:e,$options:"i"}}}}})),a=e.map((function(e){return{mealType:{$regex:e,$options:"i"}}}));return{$or:[].concat(Object(P.a)(n),Object(P.a)(t),Object(P.a)(a))}}(n)),console.log(t),{$and:t}}function q(){return function(){var e=Object(b.a)(j.a.mark((function e(t,n){var a,r,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"ACTIVITY/LOADING_INITIAL"}),a=J(n),e.next=5,G("activity/?filter=".concat(JSON.stringify(a),"\n                &skip=0"));case 5:r=e.sent,c=r.data,s=r.totalEntryCount,t({type:"ACTIVITY/INSERT_INITIAL_ACTIVITY",payload:{data:K(c),localEntriesCount:c.length}}),t({type:"ACTIVITY/SET_TOTAL_ENTRIES_COUNT",payload:s}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}()}function Z(e){return function(t){t({type:"ACTIVITY/INSERT_ENTRY_LOCAL",payload:Object(I.a)({},e._id,e)}),t(X())}}function Q(e){return console.log(Object(I.a)({},e._id,e)),function(t){t({type:"ACTIVITY/UPDATE_ENTRY_LOCAL",payload:Object(I.a)({},e._id,e)})}}function X(e){return{type:"ACTIVITY/INCREMENT_LOCAL_ENRTY_COUNT",payload:e}}function ee(e){return{type:"VIEW/SET_CURRENT",payload:e}}function te(e){return function(t){t({type:"ACTIVITY/FILTER/SET_TYPE",payload:e}),t(ee("activity"))}}function ne(e){return function(e){e(ee("analysis"))}}function ae(e){var t=Object(u.b)();Object(u.c)((function(e){return e.view.viewportWidth}));return Object(M.jsxs)("div",{className:"navigation-menu-container",children:[Object(M.jsxs)("div",{className:"nav-group",children:[Object(M.jsx)("div",{className:"nav-group-title",children:Object(M.jsx)("h5",{children:"Your Log"})}),Object(M.jsx)("div",{onClick:function(){t(te({$or:[{type:"meal"},{type:"healthCheck"}]}))},className:"nav-item",children:Object(M.jsx)("a",{href:"#",children:"All Activity"})}),Object(M.jsx)("div",{onClick:function(){t(te({type:"meal"}))},className:"nav-item",children:Object(M.jsx)("a",{href:"#",children:"Meals"})}),Object(M.jsx)("div",{onClick:function(){t(te({type:"healthCheck"}))},className:"nav-item",children:Object(M.jsx)("a",{href:"#",children:"Wellness"})}),Object(M.jsx)("div",{className:"nav-item-catagory"})]}),Object(M.jsxs)("div",{className:"nav-group",children:[Object(M.jsx)("div",{className:"nav-group-title",children:Object(M.jsx)("h5",{children:"Analysis"})}),Object(M.jsx)("div",{className:"nav-item",onClick:function(){t(ne())},children:Object(M.jsx)("a",{href:"#",children:"Food Items"})}),Object(M.jsx)("div",{className:"nav-item",onClick:function(){t(ne())},children:Object(M.jsx)("a",{href:"#",children:"Symptoms"})}),Object(M.jsx)("div",{className:"nav-item-catagory"})]})]})}n(153);function re(e){var t=Object(u.b)(),n=Object(u.c)((function(e){return e.view.currentView}));return Object(M.jsx)("div",{className:"navigation-menu-mobile-container",children:Object(M.jsx)(Y.a,{fluid:!0,children:Object(M.jsxs)(i.a,{children:[Object(M.jsx)(o.a,{className:"col",xs:4,children:Object(M.jsx)("div",{className:"nav-item ".concat("activity"===n&&"active"),onClick:function(){t(te({$or:[{type:"meal"},{type:"healthCheck"}]}))},children:Object(M.jsxs)("a",{href:"#",children:[Object(M.jsx)("i",{className:"fas fa-list-ul"}),Object(M.jsx)("br",{}),"Activity"]})})}),Object(M.jsx)(o.a,{className:"col",xs:4,children:Object(M.jsx)("div",{className:"nav-item ".concat("analysis"===n&&"active"),onClick:function(){t(ne())},children:Object(M.jsxs)("a",{href:"#",children:[Object(M.jsx)("i",{className:"fas fa-chart-area"}),Object(M.jsx)("br",{}),"Analysis"]})})}),Object(M.jsx)(o.a,{className:"col",xs:4,children:Object(M.jsx)("div",{className:"nav-item",onClick:function(){t({type:"USER_MENU/SHOW"})},children:Object(M.jsxs)("a",{href:"#",children:[Object(M.jsx)("i",{className:"fas fa-cog"}),Object(M.jsx)("br",{}),"Settings"]})})})]})})})}n(154);var ce=n(24),se=n.n(ce),ie=(n(155),n(55));function oe(e){var t=e.text,n=e.deleteable,a=e.onDelete,r=e.onClick,c=e.className,s=e.color,i=e.size,o=e.margin,u=e.highlight;return Object(M.jsxs)(ie.a,{className:"pill-container",style:o?{marginRight:o,marginBottom:o}:{margin:0},children:[Object(M.jsx)("div",{onClick:r,className:"pill-body pill-".concat(i," pill-").concat(s," ").concat(n&&"pill-deleteable"," ").concat(u&&"pill-highlight"),children:t}),n&&Object(M.jsx)(l.a,{onClick:a,className:"button-dark-".concat(s," delete-keyword ").concat(c||""," delete-btn-").concat(i),children:Object(M.jsx)("i",{className:"fas fa-times"})})]})}var le=n(2),ue=n(47),de=Object(le.a)(Object(le.a)({},new v),{},{attemptingLogin:!0});var je={data:{},loadingInitial:!1,loadingMore:!1,filters:{type:{$or:[{type:"meal"},{type:"healthCheck"}]},keywords:[]},localEntriesCount:0,totalEntriesCount:0};var be={show:!1,ingredients:[],time:"",mealType:"",_id:"",new:!1,edit:!1,timeString:"",dateString:""};var Oe={show:!1,symptoms:[],time:"",mood:null,_id:"",new:!1,edit:!1,dateString:"",timeString:""};var he={username:"",password:"",show:!1,invalidPassword:!1,invalidUsername:!1};var me={show:!1};var pe={currentView:"activity",activity:{active:!0,filter:"all"}};var fe={value:"",valid:!1,touched:!1,error:"Required Field"},xe={show:!1,firstName:Object(le.a)({},fe),lastName:Object(le.a)({},fe),email:Object(le.a)(Object(le.a)({},fe),{},{valid:!0}),username:Object(le.a)({},fe),password:Object(le.a)({},fe),passwordVerify:Object(le.a)({},fe)};var ve={width:4,mobile:!1};var ge=Object(ue.combineReducers)({UserState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERSTATE/SET":return Object(le.a)(Object(le.a)({},t.payload),{},{attemptingLogin:!1});default:return Object(le.a)({},e)}},activity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case"ACTIVITY/INSERT_INITIAL_ACTIVITY":return Object(le.a)(Object(le.a)(Object(le.a)({},e),n),{},{loadingInitial:!1});case"ACTIVITY/INSERT_MORE_ACTIVITY":return Object(le.a)(Object(le.a)({},e),{},{data:Object(le.a)(Object(le.a)({},e.data),n.data),loadingMore:!1});case"ACTIVITY/INSERT_ENTRY_LOCAL":case"ACTIVITY/UPDATE_ENTRY_LOCAL":return Object(le.a)(Object(le.a)({},e),{},{data:Object(le.a)(Object(le.a)({},e.data),n)});case"ACTIVITY/SET_TOTAL_ENTRIES_COUNT":return Object(le.a)(Object(le.a)({},e),{},{totalEntriesCount:n});case"ACTIVITY/INCREMENT_LOCAL_ENRTY_COUNT":return Object(le.a)(Object(le.a)({},e),{},{localEntriesCount:e.localEntriesCount+n});case"ACTIVITY/DECREMENT_LOCAL_ENRTY_COUNT":return Object(le.a)(Object(le.a)({},e),{},{localEntriesCount:e.localEntriesCount-n});case"ACTIVITY/LOADING_INITIAL":return Object(le.a)(Object(le.a)({},e),{},{loadingInitial:!0});case"ACTIVITY/LOADING_MORE":return Object(le.a)(Object(le.a)({},e),{},{loadingMore:!0});case"ACTIVITY/FILTER/SET_TYPE":return Object(le.a)(Object(le.a)({},e),{},{filters:Object(le.a)(Object(le.a)({},e.filters),{},{type:n})});case"ACTIVITY/FILTER/ADD_KEYWORD":return Object(le.a)(Object(le.a)({},e),{},{filters:Object(le.a)(Object(le.a)({},e.filters),{},{keywords:[].concat(Object(P.a)(e.filters.keywords),[n])})});case"ACTIVITY/FILTER/DELETE_KEYWORD":return Object(le.a)(Object(le.a)({},e),{},{filters:Object(le.a)(Object(le.a)({},e.filters),{},{keywords:e.filters.keywords.filter((function(e){return console.log(n),e!==n}))})});default:return e}},mealForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case"MEAL_FORM/EDIT":case"MEAL_FORM/NEW":return Object(le.a)(Object(le.a)({},be),n);case"MEAL_FORM/CHANGE":return Object(le.a)(Object(le.a)({},e),n);case"MEAL_FORM/CLOSE":return Object(le.a)({},be);case"MEAL_FORM/DELETE_INGREDIENT":var a=e.ingredients.filter((function(e){return e!==n}));return Object(le.a)(Object(le.a)({},e),{},{ingredients:a});default:return e}},healthCheckForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case"HEALTH_CHECK_FORM/EDIT":case"HEALTH_CHECK_FORM/NEW":return Object(le.a)(Object(le.a)({},Oe),n);case"HEALTH_CHECK_FORM/DELETE_SYMPTOM":var a=e.symptoms.filter((function(e){return e!==n}));return Object(le.a)(Object(le.a)({},e),{},{symptoms:a});case"HEALTH_CHECK_FORM/CHANGE":return Object(le.a)(Object(le.a)({},e),n);case"HEALTH_CHECK_FORM/CLOSE":return Object(le.a)({},Oe);default:return e}},loginForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case"LOGIN_FORM/SET":return Object(le.a)(Object(le.a)({},e),n);case"LOGIN_FORM/SHOW":return Object(le.a)(Object(le.a)({},e),{},{show:!0});case"LOGIN_FORM/RESET":return Object(le.a)({},he);default:return e}},userMenu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_MENU/SHOW":return console.log("showing"),Object(le.a)(Object(le.a)({},e),{},{show:!0});case"USER_MENU/HIDE":return console.log("hiding"),Object(le.a)(Object(le.a)({},e),{},{show:!1});default:return e}},view:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case"VIEW/SET_CURRENT":return Object(le.a)(Object(le.a)({},pe),{},{currentView:n});default:return e}},registerForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case"REGISTER_FORM/SHOW":return Object(le.a)(Object(le.a)({},e),{},{show:!0});case"REGISTER_FORM/HIDE":return Object(le.a)(Object(le.a)({},e),{},{show:!1});case"REGISTER_FORM/SET":case"REGISTER_FORM/VALIDATE":return Object(le.a)(Object(le.a)({},e),n);case"REGISTER_FORM/TOUCH_ALL":var a=Object(le.a)({},e);return Object.keys(e).forEach((function(e){a[e].hasOwnProperty("touched")&&(a[e].touched=!0)})),a;default:return Object(le.a)({},e)}},viewport:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case"VIEWPORT/SET_WIDTH":return console.log("setting viewport width to: "+n),Object(le.a)({},n);default:return e}}}),ye=n(109),we=n(110),Ee=Object(ue.compose)(Object(ue.applyMiddleware)(ye.a)),Ne=Object(ue.createStore)(ge,Object(we.composeWithDevTools)(Ee)),Te=n(73),Ce=n.n(Te);function Ie(e,t){return se()("".concat(e," ").concat(t),"YYYY-MM-DD HH:mm").unix()}function ke(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se()().unix();return se.a.unix(e).format("YYYY-MM-DD")}function Se(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se()().unix();return se.a.unix(e).format("HH:mm")}function Re(e){return{type:"MEAL_FORM/CHANGE",payload:e}}function _e(e){return{type:"HEALTH_CHECK_FORM/CHANGE",payload:e}}function Ae(e){var t,n=Object(u.b)(),a=e.entry,r=a._id,c=a.type;function s(){return(s=Object(b.a)(j.a.mark((function e(a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,z("activity/".concat(t),r);case 4:n(q()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return"meal"===c&&(t="meals"),"healthCheck"===c&&(t="health-checks"),Object(M.jsxs)("div",{children:[Object(M.jsx)("a",{onClick:function(e){return s.apply(this,arguments)},href:"#",children:Object(M.jsx)("i",{className:"fas fa-times manage-icon"})}),Object(M.jsx)("a",{onClick:function(e){e.preventDefault(),"meal"===c&&n(function(e){var t=Ne.getState().activity.data[e];return{type:"MEAL_FORM/EDIT",payload:Object(le.a)(Object(le.a)({edit:!0,show:!0},t),{},{timeString:Se(t.time),dateString:ke(t.time)})}}(r)),"healthCheck"===c&&n(function(e){var t=Ne.getState().activity.data[e];return{type:"HEALTH_CHECK_FORM/EDIT",payload:Object(le.a)(Object(le.a)({edit:!0,show:!0},t),{},{timeString:Se(t.time),dateString:ke(t.time)})}}(r))},href:"#",children:Object(M.jsx)("i",{className:"fas fa-pencil-alt manage-icon"})})]})}se()().format(),se.a.extend(Ce.a);n(95);function Le(e){var t,n=e.entry,a=n.ingredients,r=n.mealType,c=n.time,s=Object(u.c)((function(e){return e.activity.filters.keywords}));return Object(M.jsx)(Y.a,{className:"entry-container",fluid:!0,children:Object(M.jsxs)(i.a,{children:[Object(M.jsx)(o.a,{xs:12,md:"auto",className:"time-container",children:se.a.unix(c).format("h:mm A")}),Object(M.jsx)(o.a,{xs:12,md:!0,className:"entry-data-container meal-entry-container",children:Object(M.jsxs)(i.a,{children:[Object(M.jsxs)(o.a,{children:[Object(M.jsx)(i.a,{className:"entry-heading",children:Object(M.jsx)(o.a,{children:Object(M.jsxs)("h5",{children:[Object(M.jsx)("span",{className:"emoji",children:(t=r,{Breakfast:"\ud83c\udf73",Lunch:"\ud83e\udd6a",Dessert:"\ud83e\uddc1",Snack:"\ud83c\udf47",Dinner:"\ud83c\udf74",Drink:"\ud83e\udd64",HealthCheck:"\u2764\ufe0f"}[t])}),r]})})}),Object(M.jsxs)(i.a,{className:"entry-section",children:[Object(M.jsx)(o.a,{xs:"auto",children:Object(M.jsx)("div",{className:"section-title",children:"Ingredients:"})}),Object(M.jsx)(o.a,{xs:!0,children:a.map((function(e,t){var n=s.some((function(t){return e.name.match(new RegExp(t,"gi"))}));return Object(M.jsx)(oe,{margin:5,highlight:n,text:e.name,color:"brown",size:"sm"},t)}))})]})]}),Object(M.jsx)(o.a,{xs:12,md:"auto",className:"manage-entry-col",children:Object(M.jsx)(Ae,{entry:n})})]})})]})})}function Me(e){var t=e.entry,n=t.symptoms,a=t.time,r=Object(u.c)((function(e){return e.activity.filters.keywords}));return Object(M.jsx)(Y.a,{className:"entry-container",fluid:!0,children:Object(M.jsxs)(i.a,{children:[Object(M.jsx)(o.a,{xs:12,md:"auto",className:"time-container",children:se.a.unix(a).format("h:mm A")}),Object(M.jsx)(o.a,{xs:12,md:!0,className:"entry-data-container health-check-entry-container",children:Object(M.jsxs)(i.a,{children:[Object(M.jsxs)(o.a,{children:[Object(M.jsx)(i.a,{className:"entry-heading",children:Object(M.jsx)(o.a,{children:Object(M.jsxs)("h5",{children:[Object(M.jsx)("span",{className:"emoji",children:"\u2764\ufe0f"}),"Wellness Check"]})})}),Object(M.jsxs)(i.a,{className:"entry-section",children:[Object(M.jsx)(o.a,{xs:"auto",children:Object(M.jsx)("div",{className:"section-title",children:"Symptoms:"})}),Object(M.jsx)(o.a,{xs:!0,children:n.map((function(e,t){var n=r.some((function(t){return e.description.match(new RegExp(t,"gi"))}));return Object(M.jsx)(oe,{margin:5,highlight:n,text:e.description,color:"brown",size:"sm"},t)}))})]})]}),Object(M.jsx)(o.a,{xs:12,md:"auto",className:"manage-entry-col",children:Object(M.jsx)(Ae,{entry:t})})]})})]})})}n(156);function He(e){var t=e.entries,n=e.index;return Object(M.jsxs)("div",{children:[n>0&&Object(M.jsx)("hr",{}),Object(M.jsx)(Y.a,{fluid:!0,className:"date-block-container",children:Object(M.jsxs)(i.a,{children:[Object(M.jsx)(o.a,{xs:12,md:"auto",className:"date-col",children:Object(M.jsx)("div",{className:"date-container",children:t[0].date})}),Object(M.jsx)(o.a,{xs:12,md:!0,className:"entries-col",children:t.map((function(e){return"meal"===e.type?Object(M.jsx)(Le,{entry:e},e._id):"healthCheck"===e.type?Object(M.jsx)(Me,{entry:e},e._id):null}))})]})})]})}n(157);var Fe=n(86);function De(e){var t=Object(a.useState)({value:"",valid:!1}),n=Object(k.a)(t,2),r=n[0],c=n[1],d=Object(u.b)(),j=Object(u.c)((function(e){return e.activity.filters.keywords}));function b(){""!==r.value&&r.valid&&!r.value.match(/^\s$/)&&(d({type:"ACTIVITY/FILTER/ADD_KEYWORD",payload:r.value}),c({value:"",valid:!1}))}return Object(M.jsxs)(Y.a,{className:"activity-controls-container",children:[Object(M.jsxs)(i.a,{children:[Object(M.jsx)(o.a,{className:"bs-col",xs:6,md:"auto",children:Object(M.jsxs)(l.a,{onClick:function(){d((console.log("new meal action"),{type:"MEAL_FORM/NEW",payload:{new:!0,show:!0,timeString:Se(),dateString:ke()}}))},className:"button-light-brown",variant:"default",children:[Object(M.jsx)("i",{className:"fas fa-plus"})," Add Meal"]})}),Object(M.jsx)(o.a,{className:"bs-col",xs:6,md:"auto",children:Object(M.jsxs)(l.a,{onClick:function(){d((console.log("new meal action"),{type:"HEALTH_CHECK_FORM/NEW",payload:{new:!0,show:!0,timeString:Se(),dateString:ke()}}))},className:"button-light-brown",variant:"default",children:[Object(M.jsx)("i",{className:"fas fa-plus"})," Add Wellness Check"]})}),Object(M.jsx)(o.a,{className:"bs-col",xs:12,md:"auto",children:Object(M.jsx)("form",{onSubmit:function(e){e.preventDefault(),b()},children:Object(M.jsxs)(Fe.a,{children:[Object(M.jsx)(s.a.Control,{className:"filter-input",onSubmit:function(e){console.log(e)},value:r.value,onChange:function(e){if(e.target.value.match(/^\s/))return!1;c({valid:!0,value:e.target.value})},placeholder:"Filter Results",type:"input"}),Object(M.jsx)(Fe.a.Text,{className:"submit-btn2 button-light-brown",onClick:b,children:"+"})]})})})]}),Object(M.jsx)(i.a,{children:j.map((function(e,t){return Object(M.jsx)(o.a,{className:"bs-col filter-instance",xs:"auto",children:Object(M.jsx)(oe,{text:"#"+e,size:"lg",color:"brown",deleteable:!0,onDelete:function(){d({type:"ACTIVITY/FILTER/DELETE_KEYWORD",payload:e})}})},t)}))})]})}var Ye=n(117);n(179);function Ve(e){var t,n=e.submit,r=e.placeholder,c=e.apiEndpoint,s=e.allowNewItems,i=e.suggestions,o=e.clearOnSubmit,l=e.selectOnBlur,u=Object(a.useState)(!1),d=Object(k.a)(u,2),O=d[0],h=d[1],m=Object(a.useState)([]),p=Object(k.a)(m,2),f=p[0],x=p[1],v=Object(a.useState)([]),g=Object(k.a)(v,2),y=g[0],w=g[1],E=Object(a.useState)(),N=Object(k.a)(E,2),T=N[0],C=N[1],I=Object(a.useState)(),S=Object(k.a)(I,2),R=(S[0],S[1]);function _(){return(_=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=4;break}x(i),e.next=13;break;case 4:return h(!0),t=L.a.startCase(L.a.lowerCase(t)),n="suggestions/".concat(c,"/").concat(t),e.t0=x,e.next=10,G(n);case 10:e.t1=e.sent,(0,e.t0)(e.t1),h(!1);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){if(!(e.length<=0)){R(e);var t=e[0],a=!1;"object"===typeof t&&(t=t.label,a=!0),t=L.a.startCase(L.a.lowerCase(t)),s&&a&&function(e){H.apply(this,arguments)}(t),n(t),o&&w([""])}}function H(){return(H=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(c,{value:t});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(M.jsx)(Ye.a,{selectHintOnEnter:!0,id:"autocomplete-input",minLength:1,allowNew:s,delay:100,newSelectionPrefix:"Add a new item: ",isLoading:O,options:f,selected:y,placeholder:r,onChange:function(e){w(e),A(e)},onMenuToggle:function(e){l&&!e&&(t&&T?(w([T]),A([T]),C("")):t||(w([""]),A([""])))},highlightOnlyResult:l,onSearch:function(e){return _.apply(this,arguments)},children:l&&function(e){return t=e.text,1===e.results.length?C(e.results[0]):C(e.results[e.activeIndex])}})}n(180);function Ue(e){var t=Object(a.useState)(!1),n=Object(k.a)(t,2),r=n[0],c=n[1],d=Object(u.c)((function(e){return e.mealForm})),O=Object(u.b)();function h(){return m.apply(this,arguments)}function m(){return(m=Object(b.a)(j.a.mark((function e(){var t,n,a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,c(!0),t=Ie(d.dateString,d.timeString),n={ingredients:d.ingredients.map((function(e){return e.name})),type:d.mealType,time:t},!d.new){e.next=9;break}return e.next=7,B("activity/meals",n);case 7:a=e.sent,O(Z(a));case 9:if(!d.edit){e.next=14;break}return e.next=12,$("activity/meals/"+d._id,n);case 12:r=e.sent,O(Q(r));case 14:c(!1),p(),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0),c(!1);case 22:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function p(){return f.apply(this,arguments)}function f(){return(f=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O({type:"MEAL_FORM/CLOSE"});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(M.jsxs)(S.a,{show:d.show,onHide:p,children:[Object(M.jsxs)(S.a.Header,{closeButton:!0,children:[d.edit&&Object(M.jsx)(S.a.Title,{children:"Edit Meal"}),d.new&&Object(M.jsx)(S.a.Title,{children:"Post New Meal"})]}),Object(M.jsx)(S.a.Body,{children:Object(M.jsxs)("div",{className:"meal-form-container",children:[Object(M.jsx)(i.a,{children:Object(M.jsx)(o.a,{xs:12,children:Object(M.jsx)(Ve,{selectOnBlur:!0,submit:function(e){O(Re({mealType:e}))},suggestions:["Breakfast","Lunch","Dinner","Snack","Dessert","Drink"],defaultInputValue:d.mealType,placeholder:"Meal Type (ie: Breakfast, Lunch, Dinner)"})})}),Object(M.jsxs)(i.a,{children:[Object(M.jsx)(o.a,{xs:6,children:Object(M.jsx)(s.a.Control,{type:"date",value:d.dateString,onChange:function(e){O(Re({dateString:e.target.value}))}})}),Object(M.jsx)(o.a,{xs:6,children:Object(M.jsx)(s.a.Control,{type:"time",value:d.timeString,onChange:function(e){O(Re({timeString:e.target.value}))}})})]}),Object(M.jsx)(i.a,{children:Object(M.jsx)(o.a,{children:Object(M.jsx)(Ve,{allowNewItems:!0,submit:function(e){e=L.a.startCase(L.a.lowerCase(e)),d.ingredients.map((function(e){return e.name})).includes(e)||O(Re({ingredients:[].concat(Object(P.a)(d.ingredients),[{name:e}])}))},apiEndpoint:"ingredients",clearOnSubmit:!0,placeholder:"Add Ingredients One at a Time"})})}),Object(M.jsx)("div",{className:"ingredient-list",children:d.ingredients.map((function(e,t){return Object(M.jsx)(oe,{deleteable:!0,margin:"10px",onDelete:function(){O({type:"MEAL_FORM/DELETE_INGREDIENT",payload:e})},text:e.name,color:"brown",size:"md"},t)}))})]})}),Object(M.jsxs)(S.a.Footer,{children:[Object(M.jsx)(l.a,{variant:"default",onClick:p,children:"Cancel"}),d.new&&Object(M.jsx)(l.a,{className:"button-light-green",disabled:r,variant:"default",onClick:h,children:r?"Posting":"Post Meal"}),d.edit&&Object(M.jsx)(l.a,{className:"button-light-green",disabled:r,variant:"default",onClick:h,children:r?"Saving":"Save Changes"})]})]})}var We=n(114),Pe=n.n(We),Ge=n(115),Be=n.n(Ge);se()().format(),se.a.extend(Pe.a),se.a.extend(Be.a),se.a.extend(Ce.a);var $e=function(e){var t;return(t=e,Object.entries(t).map((function(e){var t=Object(k.a)(e,2),n=(t[0],t[1]);return Object(le.a)({},n)}))).sort((function(e,t){return t.time-e.time})).reduce((function(e,t,n,a){return t.date=function(e){var t=se.a.unix(e);if(t.isYesterday())return"Yesterday";if(t.isToday())return"Today";var n=se()().subtract(1,"week");return t.isAfter(n)?t.format("dddd"):t.format("MMM DD")}(t.time),0===n?(e.push([t]),e):a[n-1].date===t.date?(e[e.length-1].push(t),e):(e.push([t]),e)}),[])};n(181);function ze(){var e=Object(a.useState)(!1),t=Object(k.a)(e,2),n=t[0],r=t[1],c=Object(u.c)((function(e){return e.healthCheckForm})),d=Object(u.b)();function O(){d({type:"HEALTH_CHECK_FORM/CLOSE"})}function h(e){d(_e({mood:e}))}function m(){return p.apply(this,arguments)}function p(){return(p=Object(b.a)(j.a.mark((function e(){var t,n,a,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r(!0),t=Ie(c.dateString,c.timeString),n={symptoms:c.symptoms.map((function(e){return e.description})),mood:c.mood,time:t},!c.new){e.next=9;break}return e.next=7,B("activity/health-checks",n);case 7:a=e.sent,d(Z(a));case 9:if(!c.edit){e.next=14;break}return e.next=12,$("activity/health-checks/"+c._id,n);case 12:s=e.sent,d(Q(s));case 14:r(!1),O(),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0),r(!1);case 22:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}return Object(M.jsxs)(S.a,{show:c.show,onHide:O,children:[Object(M.jsxs)(S.a.Header,{closeButton:!0,children:[c.edit&&Object(M.jsx)(S.a.Title,{children:"Edit Wellness Check"}),c.new&&Object(M.jsx)(S.a.Title,{children:"Post New Wellness Check"})]}),Object(M.jsx)(S.a.Body,{children:Object(M.jsxs)("div",{className:"health-check-form-container",children:[Object(M.jsxs)(i.a,{children:[Object(M.jsx)(o.a,{xs:6,children:Object(M.jsx)(s.a.Control,{type:"date",name:"date",value:c.dateString,onChange:function(e){d(_e({dateString:e.target.value}))}})}),Object(M.jsx)(o.a,{xs:6,children:Object(M.jsx)(s.a.Control,{type:"time",name:"time",value:c.timeString,onChange:function(e){d(_e({timeString:e.target.value}))}})})]}),Object(M.jsx)(i.a,{children:Object(M.jsx)(o.a,{xs:12,children:Object(M.jsxs)(ie.a,{style:{display:"flex"},children:[Object(M.jsx)(l.a,{onClick:function(){return h(1)},className:"mood-button",variant:1===c.mood?"secondary":"light",children:"Grumpy"}),Object(M.jsx)(l.a,{onClick:function(){return h(2)},className:"mood-button",variant:2===c.mood?"secondary":"light",children:"Neutral"}),Object(M.jsx)(l.a,{onClick:function(){return h(3)},className:"mood-button",variant:3===c.mood?"secondary":"light",children:"Upbeat"})]})})}),Object(M.jsx)(i.a,{children:Object(M.jsx)(o.a,{children:Object(M.jsx)(Ve,{submit:function(e){e=L.a.startCase(L.a.lowerCase(e)),c.symptoms.map((function(e){return e.description})).includes(e)||d(_e({symptoms:[].concat(Object(P.a)(c.symptoms),[{description:e}])}))},allowNewItems:!0,clearOnSubmit:!0,placeholder:"Add Symptoms One at a Time",apiEndpoint:"symptoms"})})}),Object(M.jsx)("div",{className:"symptom-list",children:c.symptoms.map((function(e,t){return Object(M.jsx)(oe,{text:e.description,deleteable:!0,margin:"10px",onDelete:function(){d({type:"HEALTH_CHECK_FORM/DELETE_SYMPTOM",payload:e})},color:"brown",size:"md"},t)}))})]})}),Object(M.jsxs)(S.a.Footer,{children:[Object(M.jsx)(l.a,{variant:"default",onClick:O,children:"Cancel"}),c.new&&Object(M.jsx)(l.a,{className:"button-light-green",disabled:n,variant:"default",onClick:m,children:n?"Posting":"Post Health Check"}),c.edit&&Object(M.jsx)(l.a,{className:"button-light-green",disabled:n,variant:"default",onClick:m,children:n?"Saving":"Save Changes"})]})]})}var Ke=n(116);function Je(e){var t=Object(u.b)(),n=Object(u.c)((function(e){return e})),r=Object(u.c)((function(e){return e.activity})),c=r.totalEntriesCount,s=r.localEntriesCount,i=r.loadingInitial,o=r.loadingMore;return Object(a.useEffect)((function(){t(q())}),[n.view.currentView,n.activity.filters]),Object(M.jsxs)("div",{className:"activity-container",children:[Object(M.jsx)(De,{}),Object(M.jsx)(Ue,{}),Object(M.jsx)(ze,{}),i?Object(M.jsx)(Ke.a,{animation:"border",className:"loading-spinner"}):Object(M.jsxs)("div",{children:[Object(M.jsx)("hr",{}),$e(n.activity.data).map((function(e,t){return Object(M.jsx)(He,{index:t,entries:e},t)})),Object(M.jsx)("div",{style:{textAlign:"center"},children:Object(M.jsxs)("em",{style:{fontSize:".8em"},children:["viewing ",s," of ",c]})}),c>s&&Object(M.jsxs)("div",{className:"load-more-button-container",children:[Object(M.jsx)("hr",{}),Object(M.jsx)(l.a,{style:{width:"100%"},className:"button-dark-brown",onClick:function(){t(function(){var e=Object(b.a)(j.a.mark((function e(t,n){var a,r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"ACTIVITY/LOADING_MORE"}),a=J(n),e.next=5,G("activity/?filter=".concat(JSON.stringify(a),"&skip=").concat(n().activity.localEntriesCount));case 5:r=e.sent,c=r.data,r.totalEntryCount,console.log(c),t({type:"ACTIVITY/INSERT_MORE_ACTIVITY",payload:{data:K(c)}}),t(X(c.length)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n){return e.apply(this,arguments)}}())},children:o?"Loading...":Object(M.jsxs)(M.Fragment,{children:["Load",c-s>10?" 10 More":" ".concat(c-s," Remaining")," ","Entries"]})})]})]})]})}n(182);function qe(e){var t=Object(u.c)((function(e){return e.view})),n=Object(u.c)((function(e){return e.UserState.isLoggedIn})),a=Object(u.c)((function(e){return e.viewport.mobile}));return Object(M.jsxs)("div",{className:"dashboard-container",style:{position:"relative"},children:[n&&a?Object(M.jsx)(re,{}):Object(M.jsx)(ae,{}),n&&"activity"===t.currentView&&Object(M.jsx)(Je,{}),n&&Object(M.jsx)(U,{}),!n&&a&&Object(M.jsx)(D,{})]})}function Ze(e){return{type:"VIEWPORT/SET_WIDTH",payload:e}}n(183);function Qe(){var e=Object(u.c)((function(e){return e.viewport.mobile}));return Object(M.jsx)("div",{className:"welcome-container",children:e&&Object(M.jsx)("div",{className:"login-form-container",children:Object(M.jsx)(D,{})})})}var Xe=function(){var e=Object(u.c)((function(e){return e.UserState.isLoggedIn})),t=Object(u.b)();function n(){var e,n=Ne.getState().viewport.width,a=(e=window.innerWidth)>=1200?5:e>=992?4:e>=768?3:e>=576?2:1;n!==a&&t(Ze(a<3?{width:a,mobile:!0}:{width:a,mobile:!1}))}return Object(a.useEffect)((function(){return n(),t(E()),window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}}),[]),Object(M.jsxs)("div",{children:[Object(M.jsx)(W,{}),e&&Object(M.jsx)(qe,{}),!e&&Object(M.jsx)(Qe,{})]})},et=(n(184),Ne.dispatch);function tt(){return Ne.getState().UserState.accessToken}(function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.a.interceptors.request.use(function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("axios: adding auth headers"),!tt().expired()){e.next=4;break}return e.next=4,et(E());case 4:return t.headers={Authorization:"Bearer ".concat(tt().value)},e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){throw console.log("axios interceptor err"),new Error(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),c.a.render(Object(M.jsx)(u.a,{store:Ne,children:Object(M.jsx)(Xe,{})}),document.getElementById("root"))},95:function(e,t,n){}},[[185,1,2]]]);
//# sourceMappingURL=main.a23683e7.chunk.js.map