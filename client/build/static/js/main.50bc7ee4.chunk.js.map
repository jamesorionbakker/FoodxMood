{"version":3,"sources":["components/common/utils/accessToken.js","components/common/utils/userState.js","components/common/state/UserStateReducer.js","components/activity/state/ActivityReducer.js","components/meal_form/state/MealFormReducer.js","components/health_check_form/state/healthCheckFormReducer.js","components/login_form/state/loginFormReducer.js","components/user_menu/state/UserMenuReducer.js","components/common/state/ViewReducer.js","components/common/utils/formValidation.js","components/register_form/state/registerFormReducer.js","components/common/state/RootReducer.js","components/common/state/Store.js","components/common/utils/api.js","components/common/state/UserStateActions.js","components/login_form/state/loginFormActions.js","components/register_form/state/registerFormActions.js","components/register_form/state/RegisterInput.jsx","components/register_form/registerForm.jsx","components/login_form/LoginForm.jsx","components/user_menu/UserMenu.jsx","components/user_menu/state/UserMenuActions.js","components/header/Header.jsx","components/common/state/ViewActions.js","components/Sidebar.jsx","components/Pill.jsx","components/common/utils/DateHandler.js","components/meal_form/state/MealFormActions.js","components/activity/state/ActivityActions.js","components/health_check_form/state/healthCheckFormActions.js","components/activity/ManageEntry.jsx","components/activity/MealEntry.jsx","components/activity/HealthCheckEntry.jsx","components/activity/DateBlock.jsx","components/activity/AddButtonsContainer.jsx","components/common/InputAutoComplete.jsx","components/IngredientPill.jsx","components/meal_form/MealForm.jsx","components/activity/utils/feedArray.js","components/health_check_form/HealthCheckForm.jsx","components/activity/Activity.jsx","components/Dashboard.jsx","components/App.jsx","index.js"],"names":["AccessToken","value","jwt_decode","exp","username","firstName","lastName","this","Math","ceil","Date","now","getCurrSeconds","refresh","a","fetch","response","status","json","error","Error","token","UserState","expired","accessToken","isLoggedIn","initialState","attemptingLogin","data","loading","show","ingredients","time","mealType","_id","new","edit","timeString","dateString","symptoms","mood","password","invalidPassword","invalidUsername","activity","active","filter","errorMessage","test","valid","name","intitalInputState","touched","email","passwordVerify","rootReducer","combineReducers","state","action","type","payload","mealForm","ingredient","healthCheckForm","symptom","loginForm","userMenu","console","log","view","registerForm","outputState","Object","keys","forEach","key","hasOwnProperty","middleWare","compose","applyMiddleware","thunk","store","createStore","composeWithDevTools","dispatch","getState","getHeaders","Authorization","get","route","attemptLogIn","method","headers","post","body","JSON","stringify","put","deleteByID","setUserState","setLoginForm","setRegisterForm","validateRegisterForm","RegisterInput","props","validationCallback","placeholder","capitalize","validated","trimWhitespace","lowercase","handleBlur","onBlur","handleChange","onChange","Form","Group","Control","isInvalid","isValid","e","target","_","trim","toLower","split","reduce","acc","substring","upperFirst","Feedback","RegisterForm","useState","processing","setProcessing","useDispatch","useSelector","handleSubmit","preventDefault","registerPayload","Modal","onHide","onSubmit","noValidate","Header","Title","Body","className","Row","Col","xs","validate","Footer","Button","variant","onClick","disabled","Login","message","md","UserMenu","loggingOut","setLoggingOut","style","marginLeft","color","borderColor","Offcanvas","placement","closeButton","userState","Container","fluid","sm","ViewActivity","Sidebar","href","Pill","text","stringToUnixTime","date","dayjs","unix","unixToDateString","unixTime","format","unixToTimeString","formChange","setActivity","API","fromEntries","map","entry","ManageEntry","endpoint","currentEntry","editMeal","id","editHealthCheck","extend","customParseFormat","MealEntry","Breakfast","Lunch","Dessert","Snack","Dinner","Drink","HealthCheck","index","HealthCheckEntry","description","DateBlock","entries","AddButtonsContainer","InputAutoComplete","defaultInputValue","submit","apiEndpoint","allowNewItems","suggestions","clearOnSubmit","isLoading","setIsLoading","options","setOptions","setValue","query","startCase","lowerCase","url","submitHandler","length","outputValue","newItem","label","postValue","selectHintOnEnter","minLength","allowNew","delay","newSelectionPrefix","selected","onSearch","IngredientPill","primaryText","MealForm","newMeal","handleClose","newIngredient","includes","isYesterday","isToday","build","activityEntriesObj","dataObject","val","sort","b","accumulator","currEntry","currArray","oneWeekAgo","subtract","isAfter","unixTimeToDate","push","unshift","HealthCheckForm","handleMoodSelect","newHealthCheck","ButtonGroup","display","newSymptom","Activity","loaded","useEffect","FeedArray","dateBlock","Spinner","animation","Dashboard","position","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.50bc7ee4.chunk.js","sourcesContent":["import jwt_decode from 'jwt-decode';\n\nexport class AccessToken {\n    constructor(value){\n        let {exp, username, firstName, lastName} = jwt_decode(value)\n        this.value = value;\n        this.exp = exp\n        this.username = username\n        this.firstName = firstName\n        this.lastName = lastName\n    }\n    getCurrSeconds() {\n        return Math.ceil(Date.now() / 1000);\n    }\n    expired(){\n        if(this.exp < this.getCurrSeconds() + 10){\n            return true;\n        }\n        return false\n    }\n}\n\nexport async function refresh() {\n    let response = await fetch('/access');\n    if (response.status !== 200) {\n        let error = await response.json();\n        throw new Error(error);\n    }\n    let token = await response.json();\n    return new AccessToken(token)\n}\n\nexport function decode(token) {\n    let { username, firstName, lastName } = jwt_decode(token);\n    console.log(firstName)\n    return {\n        username,\n        firstName,\n        lastName,\n        accessToken: token,\n        isLoggedIn: true,\n    };\n}\n","export default class UserState {\n    constructor(token) {\n        if (token && !token.expired()) {\n            this.accessToken = token;\n            let { username, firstName, lastName } = token;\n            this.username = username;\n            this.firstName = firstName;\n            this.lastName = lastName;\n            this.isLoggedIn = true\n        } else {\n            this.accessToken = null\n            this.username = '';\n            this.firstName = '';\n            this.lastName = '';\n            this.isLoggedIn = false\n        }\n    }\n}\n","import UserState from 'components/common/utils/userState'\n\nconst initialState = {...new UserState(), attemptingLogin: true}\n\nexport default function UserStateReducer(state = initialState, action){\n    switch (action.type){\n        case 'USERSTATE/SET':\n            return {...action.payload, attemptingLogin: false}\n        default: return {...state }\n    }\n}","const initialState = { data: {}, loading: true };\n\nexport default function ActivityReducer(state = initialState, action) {\n    switch (action.type) {\n        case 'ACTIVITY/SET_DATA':\n            return { ...action.payload }\n        case 'ACTIVITY/LOADING':\n            return { ...state, loading: true}\n        default:\n            return state;\n    }\n}\n","const initialState = {\n    show: false,\n    ingredients: [],\n    time: '',\n    mealType: '',\n    _id: '',\n    new: false,\n    edit: false,\n    timeString: '',\n    dateString: '',\n};\n\nexport default function MealFormReducer(state = initialState, action) {\n    let { payload } = action;\n    switch (action.type) {\n        case 'MEAL_FORM/EDIT':\n            return { ...initialState, ...payload };\n        case 'MEAL_FORM/NEW':\n            return { ...initialState, ...payload };\n        case 'MEAL_FORM/CHANGE':\n            return { ...state, ...payload };\n        case 'MEAL_FORM/CLOSE':\n            return { ...initialState };\n        case 'MEAL_FORM/DELETE_INGREDIENT':\n            let ingredients = state.ingredients.filter(\n                (ingredient) => ingredient !== payload\n            );\n            return {\n                ...state,\n                ingredients,\n            };\n        default:\n            return state;\n    }\n}\n","const initialState = {\n    show: false,\n    symptoms: [],\n    time: '',\n    mood: null,\n    _id: '',\n    new: false,\n    edit: false,\n    dateString: '',\n    timeString: '',\n};\n\nexport default function HealtCheckFormReducer(state = initialState, action) {\n    let { payload } = action;\n    switch (action.type) {\n        case 'HEALTH_CHECK_FORM/EDIT':\n            return { ...initialState, ...payload };\n        case 'HEALTH_CHECK_FORM/NEW':\n            return { ...initialState, ...payload };\n        case 'HEALTH_CHECK_FORM/DELETE_SYMPTOM':\n            let symptoms = state.symptoms.filter(\n                (symptom) => symptom !== payload\n            );\n            return { ...state, symptoms };\n        case 'HEALTH_CHECK_FORM/CHANGE':\n            return { ...state, ...payload };\n        case 'HEALTH_CHECK_FORM/CLOSE':\n            return { ...initialState };\n        default:\n            return state;\n    }\n}\n","const initialState = {\n    username: '',\n    password: '',\n    show: false,\n    invalidPassword: false,\n    invalidUsername: false,\n};\n\nexport default function LoginFormReducer(state = initialState, action) {\n    let payload = action.payload;\n    switch (action.type) {\n        case 'LOGIN_FORM/SET':\n            return { ...state, ...payload };\n        case 'LOGIN_FORM/SHOW':\n            return { ...state, show: true };\n        case 'LOGIN_FORM/RESET':\n            return { ...initialState };\n        default:\n            return state;\n    }\n}\n","const initialState = {\n    show: false\n};\n\nexport default function UserOptionsReducer(state = initialState, action) {\n    let payload = action.payload;\n    switch (action.type) {\n        case 'USER_MENU/SHOW':\n            console.log('showing')\n            return {...state, show: true};\n        case 'USER_MENU/HIDE':\n            console.log('hiding')\n            return {...state, show: false};\n        default:\n            return state;\n    }\n}\n","const initialState = {\n    activity: {\n        active: true,\n        filter: 'all'\n    }\n};\n\n\nexport default function ViewReducer(state = initialState, action) {\n    let payload = action.payload\n    switch (action.type) {\n        case 'VIEW/ACTIVITY':\n            return { ...initialState, ...payload };\n        default:\n            return state;\n    }\n}\n","import { validate as validateEmail } from 'email-validator';\n\nexport function password(value) {\n    let errorMessage = 'Password must be at least 8 characters with at least one capital letter and one number'\n    if (/\\s/.test(value)) {\n        return { valid: false, error: 'Password cannot contain spaces. ' + errorMessage }\n    }\n    if (!/^\\S{8,}$/i.test(value)) {\n        return { valid: false, error: errorMessage };\n    }\n    if (!/[A-Z]/.test(value)) {\n        return { valid: false, error: errorMessage }\n    }\n    if (!/\\d/.test(value)) {\n        return { valid: false, error: errorMessage }\n    }\n    return { valid: true, error: '' };\n}\n\nexport function email(value) {\n    let valid = validateEmail(value);\n    let error = valid ? '' : 'Invalid Email Address';\n    return { valid, error };\n}\n\nexport function name(value) {\n    let valid = /^\\w{1,}/i.test(value);\n    let error = valid ? '' : 'Invalid Name';\n    return { valid, error };\n}\n","import { Password } from 'components/common/utils/formValidation';\nconst intitalInputState = { value: '', valid: false, touched: false, error: 'Required Field' };\nconst initialState = {\n    show: false,\n    firstName: { ...intitalInputState },\n    lastName: { ...intitalInputState },\n    email: { ...intitalInputState, valid: true },\n    username: { ...intitalInputState },\n    password: { ...intitalInputState },\n    passwordVerify: { ...intitalInputState },\n};\n\nexport default function RegisterFormReducer(state = initialState, action) {\n    let payload = action.payload;\n    switch (action.type) {\n        case 'REGISTER_FORM/SHOW':\n            return { ...state, show: true };\n        case 'REGISTER_FORM/HIDE':\n            return { ...state, show: false };\n        case 'REGISTER_FORM/SET':\n            return { ...state, ...payload };\n        case 'REGISTER_FORM/VALIDATE':\n            return { ...state, ...payload };\n        case 'REGISTER_FORM/TOUCH_ALL':\n            let outputState = {...state}\n            let response = Object.keys(state).forEach((key)=>{\n                if(outputState[key].hasOwnProperty('touched')){\n                    outputState[key].touched = true;\n                }\n            })\n            return outputState\n        default:\n            return { ...state };\n    }\n}\n","import {combineReducers} from 'redux'\nimport UserStateReducer from 'components/common/state/UserStateReducer'\nimport ActivityReducer from 'components/activity/state/ActivityReducer.js'\nimport MealFormReducer from 'components/meal_form/state/MealFormReducer.js'\nimport HealthCheckFormReducer from 'components/health_check_form/state/healthCheckFormReducer'\nimport LoginFormReducer from 'components/login_form/state/loginFormReducer'\nimport UserMenuReducer from 'components/user_menu/state/UserMenuReducer'\nimport ViewReducer from './ViewReducer'\nimport RegisterFormReducer from 'components/register_form/state/registerFormReducer'\n\nconst rootReducer = combineReducers({\n    UserState: UserStateReducer,\n    activity: ActivityReducer,\n    mealForm: MealFormReducer,\n    healthCheckForm: HealthCheckFormReducer,\n    loginForm: LoginFormReducer,\n    userMenu: UserMenuReducer,\n    view: ViewReducer,\n    registerForm: RegisterFormReducer\n})\n\nexport default rootReducer","import { createStore, applyMiddleware, compose } from 'redux';\nimport rootReducer from './RootReducer.js';\nimport thunk from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nconst middleWare = compose(applyMiddleware(thunk));\n\nconst store = createStore(rootReducer, composeWithDevTools(middleWare));\n\nexport default store;\n","import { attemptLogIn } from '../state/UserStateActions.js';\nimport store from '../state/Store.js';\n\nlet dispatch = store.dispatch;\n\nfunction token() {\n    return store.getState().UserState.accessToken;\n}\n\nexport function getHeaders() {\n    return {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token().value}`,\n    };\n}\n\n\nexport async function get(route) {\n    if (token().expired()) await dispatch(attemptLogIn());\n    console.log('api get: ' + route);\n    let response = await fetch(`/api/${route}`, {\n        method: 'GET',\n        headers: getHeaders(),\n    });\n    return await response.json();\n}\n\nexport async function post(route, data) {\n    if (token().expired()) await dispatch(attemptLogIn());\n    console.log('api post: ' + route);\n    let response = await fetch(`/api/${route}`, {\n        method: 'POST',\n        headers: getHeaders(),\n        body: JSON.stringify(data),\n    });\n    return await response.json();\n}\n\nexport async function put(route, data) {\n    if (token().expired()) await dispatch(attemptLogIn());\n    let response = await fetch(`/api/${route}`, {\n        method: 'PUT',\n        headers: getHeaders(),\n        body: JSON.stringify(data),\n    });\n    return await response.json();\n}\n\nexport async function deleteByID(route, _id) {\n    if (token().expired()) await dispatch(attemptLogIn());\n    let response = await fetch(`/api/${route}/${_id}`, {\n        method: 'DELETE',\n        headers: getHeaders(),\n    });\n    return await response.json();\n}\n","import * as accessToken from 'components/common/utils/accessToken.js';\nimport UserState from 'components/common/utils/userState';\nimport { hideUserOptions } from 'components/user_menu/state/UserMenuActions';\nimport { getHeaders } from '../utils/api';\n\nexport function setUserState(payload) {\n    return {\n        type: 'USERSTATE/SET',\n        payload,\n    };\n}\n\nexport function attemptLogIn() {\n    console.log('attempting login');\n    return async (dispatch, getState) => {\n        try {\n            let token = await accessToken.refresh(); //return access token object\n            dispatch(setUserState(new UserState(token)));\n        } catch (error) {\n            console.log('no refresh token, login required');\n            dispatch(setUserState(new UserState()));\n        }\n    };\n}\n\nexport function LogOut() {\n    return async (dispatch, getState) => {\n        const token = () => getState().UserState.accessToken;\n        try {\n            if (token().expired()) await dispatch(attemptLogIn());\n            await fetch('/logout', {\n                headers: getHeaders(),\n            });\n            dispatch(hideUserOptions())\n            dispatch(setUserState(new UserState()));\n        } catch (error) {\n            console.error(error)\n        }\n    };\n}\n","import { AccessToken } from 'components/common/utils/accessToken.js';\nimport { setUserState } from 'components/common/state/UserStateActions.js';\nimport UserState from 'components/common/utils/userState';\n\nexport function showLoginForm(payload) {\n    return {\n        type: 'LOGIN_FORM/SHOW',\n    };\n}\n\nexport function setLoginForm(payload) {\n    return {\n        type: 'LOGIN_FORM/SET',\n        payload,\n    };\n}\nexport function resetLoginForm() {\n    return {\n        type: 'LOGIN_FORM/RESET',\n    };\n}\n\nexport function logIn() {\n    return async (dispatch, getState) => {\n        try {\n            let { username, password } = getState().loginForm;\n            let response = await fetch('/login', {\n                method: 'POST',\n                headers: { 'Content-type': 'application/json' },\n                body: JSON.stringify({ username, password }),\n            });\n            if (response.status !== 200) {\n                let errorMessage = await response.json();\n                throw new Error(errorMessage);\n            }\n            let token = new AccessToken(await response.json());\n            dispatch(setUserState(new UserState(token)));\n            dispatch(resetLoginForm());\n        } catch (error) {\n            console.log(error);\n            if (error.message === 'invalid username') {\n                dispatch(setLoginForm({ invalidPassword: false, invalidUsername: true }));\n            }\n            if (error.message === 'invalid password') {\n                dispatch(setLoginForm({ invalidPassword: true, invalidUsername: false }));\n            }\n        }\n    };\n}\n","export function showRegisterForm(){\n    return {\n        type: 'REGISTER_FORM/SHOW'\n    }\n}\nexport function hideRegisterForm(){\n    return {\n        type: 'REGISTER_FORM/HIDE'\n    }\n}\nexport function setRegisterForm(payload){\n    return {\n        type: 'REGISTER_FORM/SET',\n        payload\n    }\n}\nexport function validateRegisterForm(payload){\n    return {\n        type: 'REGISTER_FORM/VALIDATE',\n        payload\n    }\n}\nexport function touchAllInputs(){\n    return {\n        type: \"REGISTER_FORM/TOUCH_ALL\",\n    }\n}","import React from 'react';\nimport Form from 'react-bootstrap/Form';\nimport _ from 'lodash';\n\nexport default function RegisterInput(props) {\n    let { name, state, validationCallback, placeholder, capitalize, type, validated, trimWhitespace, lowercase} = props;\n    let handleBlur = props.onBlur;\n    let handleChange = props.onChange;\n    return (\n        <Form.Group>\n            <Form.Control\n                name={name}\n                value={state.value}\n                isInvalid={validated && state.touched && !state.valid}\n                isValid={validated && state.touched && state.valid}\n                onBlur={(e) => {\n                    let value = e.target.value;\n                    if (value) handleBlur(e, validationCallback);\n                }}\n                onChange={(e) => {\n                    let { name, value } = e.target;\n                    //if capitalize prop is true, and last character typed is a letter char\n                    if (trimWhitespace) value = _.trim(value)\n                    if (lowercase) value = _.toLower(value)\n                    if (capitalize && /\\w$/.test(value)) {\n                        value = value.split(/([\\s-_.])/).reduce((acc, substring) => {\n                            return acc + _.upperFirst(substring);\n                        }, '');\n                        value = _.trim(value);\n                    }\n                    handleChange({ name, value });\n                }}\n                type={type}\n                placeholder={placeholder}\n            />\n            <Form.Control.Feedback type=\"invalid\">{state.error}</Form.Control.Feedback>\n            <Form.Control.Feedback type=\"valid\">{state.error}</Form.Control.Feedback>\n        </Form.Group>\n    );\n}\n","import { useState } from 'react';\nimport React from 'react';\nimport Modal from 'react-bootstrap/Modal';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n    hideRegisterForm,\n    setRegisterForm,\n    touchAllInputs,\n    validateRegisterForm,\n} from './state/registerFormActions';\nimport Button from 'react-bootstrap/Button';\nimport './RegisterForm.scss';\nimport * as validate from 'components/common/utils/formValidation';\nimport RegisterInput from './state/RegisterInput';\nimport { AccessToken } from '../common/utils/accessToken.js';\nimport UserState from 'components/common/utils/userState';\nimport { setUserState } from 'components/common/state/UserStateActions';\nimport _ from 'lodash';\n\nexport default function RegisterForm() {\n    let [processing, setProcessing] = useState(false);\n    const dispatch = useDispatch();\n    let state = useSelector((state) => state.registerForm);\n\n    async function handleSubmit(e) {\n        e.preventDefault();\n        dispatch(touchAllInputs());\n        if (!state.password.valid) return;\n        if (!state.passwordVerify.valid) return;\n        if (!state.username.valid) return;\n        if (!state.firstName.valid) return;\n        if (!state.lastName.valid) return;\n        let registerPayload = {\n            username: _.toLower(_.trim(state.username.value)),\n            firstName: _.trim(state.firstName.value),\n            lastName: _.trim(state.lastName.value),\n            password: _.trim(state.password.value)\n        };\n        console.log(registerPayload)\n        setProcessing(true)\n        try {\n            let response = await fetch('/register', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify(registerPayload),\n            });\n            if(response.status !== 200) throw new Error(`Error ${response.status}`)\n            console.log('success')\n            let token = new AccessToken(await response.json());\n            dispatch(setUserState(new UserState(token)))\n        } catch (error) {\n            setProcessing(false)\n            console.log(error)\n        }\n    }\n\n    async function handleChange({ name, value }) {\n        dispatch(setRegisterForm({ [name]: { value } }));\n    }\n\n    async function handleBlur(e, validationCallback) {\n        let { name, value } = e.target;\n        let { valid, error } = await validationCallback(value);\n        dispatch(validateRegisterForm({ [name]: { value, valid, touched: true, error } }));\n    }\n\n    return (\n        <Modal show={state.show} onHide={() => dispatch(hideRegisterForm())}>\n            <Form onSubmit={handleSubmit} noValidate>\n                <Modal.Header>\n                    <Modal.Title>Sign Up!</Modal.Title>\n                </Modal.Header>\n                <Modal.Body className=\"register-form-container\">\n                    <h6>Personal info:</h6>\n                    <Row>\n                        <Col xs={6}>\n                            <RegisterInput\n                                state={state.firstName}\n                                name=\"firstName\"\n                                capitalize\n                                validated\n                                placeholder=\"First Name\"\n                                validationCallback={validate.name}\n                                onChange={handleChange}\n                                onBlur={handleBlur}\n                            />\n                        </Col>\n                        <Col xs={6}>\n                            <RegisterInput\n                                state={state.lastName}\n                                name=\"lastName\"\n                                validated\n                                placeholder=\"Last Name\"\n                                validationCallback={validate.name}\n                                capitalize\n                                onChange={handleChange}\n                                onBlur={handleBlur}\n                            />\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col xs={12}>\n                            {/* <RegisterInput\n                                state={state.email}\n                                name=\"email\"\n                                placeholder=\"Email\"\n                                validationCallback={(validate.email)}\n                                onChange={handleChange}\n                                onBlur={handleBlur}\n                            /> */}\n                        </Col>\n                    </Row>\n                    <hr />\n                    <h6>Account Info:</h6>\n                    <Row>\n                        <Col xs={12}>\n                            <RegisterInput\n                                state={state.username}\n                                name=\"username\"\n                                validated\n                                trimWhitespace\n                                lowercase\n                                placeholder=\"Username\"\n                                validationCallback={async (value) => {\n                                    if (!/^\\w{1,}$/i.test(value))\n                                        return { valid: false, error: 'Invalid Username' };\n                                    let response = await fetch('validation/username/' + value);\n                                    let valid = await response.json();\n                                    let error = valid\n                                        ? 'Username is available'\n                                        : 'Username is not available';\n                                    return { valid, error };\n                                }}\n                                onChange={handleChange}\n                                onBlur={handleBlur}\n                            />\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col xs={12}>\n                            <RegisterInput\n                                type=\"password\"\n                                state={state.password}\n                                name=\"password\"\n                                validated\n                                placeholder=\"Password\"\n                                validationCallback={validate.password}\n                                onChange={handleChange}\n                                onBlur={handleBlur}\n                            />\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col xs={12}>\n                            <RegisterInput\n                                type=\"password\"\n                                state={state.passwordVerify}\n                                name=\"passwordVerify\"\n                                validated\n                                placeholder=\"Verify Password\"\n                                validationCallback={(value) => {\n                                    let valid = state.password.value === value;\n                                    let error = valid ? '' : 'Passwords do not match';\n                                    return { valid, error };\n                                }}\n                                onChange={handleChange}\n                                onBlur={handleBlur}\n                            />\n                        </Col>\n                    </Row>\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button variant=\"default\" onClick={() => dispatch(hideRegisterForm())}>\n                        Cancel\n                    </Button>\n                    <Button\n                        onClick={handleSubmit}\n                        type=\"submit\"\n                        disabled={processing}\n                        variant=\"default\" \n                        className=\"button-light-green\"\n                        >\n                        {processing ? 'Creating Account' : 'Create Account'}\n                    </Button>\n                </Modal.Footer>\n            </Form>\n        </Modal>\n    );\n}\n","import React from 'react';\nimport './LoginForm.scss';\nimport Form from 'react-bootstrap/Form';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setLoginForm, logIn } from './state/loginFormActions';\nimport { showRegisterForm } from 'components/register_form/state/registerFormActions';\nimport RegisterForm from 'components/register_form/registerForm';\n\nexport default function Login() {\n    let state = useSelector((state) => state.loginForm);\n    let { attemptingLogin } = useSelector((state) => state.UserState);\n\n    const dispatch = useDispatch();\n\n    return (\n        <div className=\"login-container\">\n            {!attemptingLogin && (\n                <Form\n                    className=\"form\"\n                    onSubmit={(e) => {\n                        e.preventDefault();\n                        console.log('signing in');\n                        dispatch(logIn());\n                    }}>\n                    <div className=\"login\">\n                        <Row className=\"form-row\">\n                            <Col className=\"form-col\" md=\"auto\">\n                                <Form.Control\n                                    isInvalid={state.invalidUsername}\n                                    name=\"username\"\n                                    className=\"username\"\n                                    placeholder=\"User Name\"\n                                    value={state.username}\n                                    onChange={(e) => {\n                                        dispatch(setLoginForm({ username: e.target.value }));\n                                    }}\n                                />\n                            </Col>\n                            <Col className=\"filler\" xs={12}></Col>\n                            <Col className=\"form-col\" md=\"auto\">\n                                <Form.Control\n                                    isInvalid={state.invalidPassword}\n                                    name=\"password\"\n                                    className=\"password\"\n                                    type=\"password\"\n                                    value={state.password}\n                                    onChange={(e) => {\n                                        dispatch(setLoginForm({ password: e.target.value }));\n                                    }}\n                                    placeholder=\"Password\"\n                                />\n                            </Col>\n                            <Col className=\"filler\" xs={12}></Col>\n                            <Col className=\"form-col\" xs={8} md=\"auto\">\n                                <Button type=\"submit\" className=\"login-button\" variant=\"light\">\n                                    Sign In\n                                </Button>\n                            </Col>\n                            <Col className=\"form-col\" xs={4} md=\"auto\">\n                                <Button\n                                    onClick={() => dispatch(showRegisterForm())}\n                                    className=\"button-dark-green\"\n                                    variant=\"success\">\n                                    Sign Up\n                                </Button>\n                                <RegisterForm />\n                            </Col>\n                        </Row>\n                    </div>\n                </Form>\n            )}\n        </div>\n    );\n}\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { hideUserOptions, showUserOptions } from './state/UserMenuActions';\nimport Button from 'react-bootstrap/Button';\nimport Offcanvas from 'react-bootstrap/Offcanvas';\nimport './UserMenu.scss';\nimport { LogOut } from 'components/common/state/UserStateActions';\nimport { useState } from 'react';\n\nexport default function UserMenu() {\n    let state = useSelector((state) => state.userMenu);\n    let [loggingOut, setLoggingOut] = useState(false);\n    const dispatch = useDispatch();\n    return (\n        <div>\n            <h4>\n                Hello, {useSelector((state) => state.UserState.firstName)}\n                <Button className=\"user-menu-button\"\n                    variant=\"outline-light\"\n                    style={{ marginLeft: '20px', color: 'white', borderColor: 'white' }}\n                    onClick={() => dispatch(showUserOptions())}>\n                    <i className=\"fas fa-bars\"></i>\n                </Button>\n            </h4>\n            <Offcanvas\n                className=\"user-menu\"\n                show={state.show}\n                onHide={() => dispatch(hideUserOptions())}\n                placement=\"end\">\n                <Offcanvas.Header closeButton>\n                    <Offcanvas.Title>Your Account</Offcanvas.Title>\n                </Offcanvas.Header>\n                <Offcanvas.Body>\n                    <div className=\"options-container\">\n                        <ul>\n                            <li>\n                                <button className=\"link\">Account Settings</button>\n                            </li>\n                            <li>\n                                <button className=\"link\">Help</button>\n                            </li>\n                        </ul>\n                    </div>\n                    <div className=\"logout-button-container\">\n                        <hr />\n                        <Button\n                            disabled={loggingOut}\n                            variant=\"default\"\n                            className=\"logout button-dark-green\"\n                            onClick={ async () => {\n                                setLoggingOut(true)\n                                await dispatch(LogOut());\n                            }}>\n                            {loggingOut ? 'Logging Out' : 'Log Out'}\n                        </Button>\n                    </div>\n                </Offcanvas.Body>\n            </Offcanvas>\n        </div>\n    );\n}\n","export function showUserOptions(){\n    return {\n        type: 'USER_MENU/SHOW'\n    }\n}\nexport function hideUserOptions(){\n    return {\n        type: 'USER_MENU/HIDE'\n    }\n}","import React from 'react';\nimport LoginForm from '../login_form/LoginForm';\nimport './Header.scss';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n//import CurrentUser from 'components/header/CurrentUser'\nimport UserMenu from 'components/user_menu/UserMenu';\nimport { useSelector } from 'react-redux';\n\n\nexport default function Header() {\n    let userState = useSelector(state => state.UserState)\n\n    return (\n        <Container fluid className=\"header-container\">\n            <Row className=\"header\">\n                <Col xs={12} sm=\"auto\" className=\"logo\">\n                    <h3>Food <span className=\"x\" >x</span> Mood</h3>\n                </Col>\n                <Col xs={12} md={true} className=\"filler\"></Col>\n                <Col xs={12} md={'auto'} className=\"login\">\n                    {userState.isLoggedIn ? <UserMenu /> : <LoginForm/>}\n                </Col>\n            </Row>\n            \n        </Container>\n    );\n}\n","export function ViewActivity(filter){\n    return {\n        type: 'VIEW/ACTIVITY',\n        payload: {\n            activity: {\n                active: true,\n                filter\n            }\n        }\n    }\n}","import React from 'react';\nimport './Sidebar.scss';\nimport { useDispatch } from 'react-redux';\nimport { ViewActivity } from './common/state/ViewActions';\n\nexport default function Sidebar(props) {\n    let dispatch = useDispatch();\n    return (\n        <div className=\"sidebar-container\">\n            <div className=\"nav-group\">\n                <div className=\"nav-group-title\">\n                    <h5>Your Log</h5>\n                </div>\n                <div\n                    onClick={() => {\n                        dispatch(ViewActivity('all'))\n                    }}\n                    className=\"nav-item\">\n                    <a href=\"#\">All Activity</a>\n                </div>\n                <div\n                    onClick={() => {\n                        dispatch(ViewActivity('meals'))\n                    }}\n                    className=\"nav-item\">\n                    <a href=\"#\">Meals</a>\n                </div>\n                <div\n                    onClick={() => {\n                        dispatch(ViewActivity('health-checks'))\n                    }}\n                    className=\"nav-item\">\n                    <a href=\"#\">Wellness</a>\n                </div>\n                <div className=\"nav-item-catagory\"></div>\n            </div>\n            <div className=\"nav-group\">\n                <div className=\"nav-group-title\">\n                    <h5>Analysis</h5>\n                </div>\n                <div className=\"nav-item\">\n                    <a href=\"#\">Food Items</a>\n                </div>\n                <div className=\"nav-item\">\n                    <a href=\"#\">Symptoms</a>\n                </div>\n                <div className=\"nav-item-catagory\"></div>\n            </div>\n        </div>\n    );\n}\n","import React from 'react';\nimport './Pill.scss';\n\nexport default function Pill(props) {\n    return (\n        <div className=\"pill\">\n            <div className={`pill-primary ${props.color}`}>{props.text}</div>\n        </div>\n    );\n}\n","import dayjs from 'dayjs';\nimport customParseFormat from 'dayjs/plugin/customParseFormat';\ndayjs().format();\ndayjs.extend(customParseFormat);\n\nexport function stringToUnixTime(date, time) {\n    return dayjs(`${date} ${time}`, 'YYYY-MM-DD HH:mm').unix();\n}\nexport function unixToDateString(unixTime = dayjs().unix()) {\n    return dayjs.unix(unixTime).format('YYYY-MM-DD');\n}\nexport function unixToTimeString(unixTime = dayjs().unix()) {\n    return dayjs.unix(unixTime).format('HH:mm');\n}\n","import store from 'components/common/state/Store';\nimport { unixToDateString, unixToTimeString } from 'components/common/utils/DateHandler';\n\nexport function editMeal(_id) {\n    let currentEntry = store.getState().activity.data[_id];\n    return {\n        type: 'MEAL_FORM/EDIT',\n\n        payload: {\n            edit: true,\n            show: true,\n            ...currentEntry,\n            timeString: unixToTimeString(currentEntry.time),\n            dateString: unixToDateString(currentEntry.time),\n        },\n    };\n}\n\nexport function formChange(payload) {\n    return {\n        type: 'MEAL_FORM/CHANGE',\n        payload,\n    };\n}\n\nexport function deleteIngredient(payload) {\n    return {\n        type: 'MEAL_FORM/DELETE_INGREDIENT',\n        payload,\n    };\n}\n\nexport function newMeal() {\n    console.log('new meal action');\n    return {\n        type: 'MEAL_FORM/NEW',\n        payload: {\n            new: true,\n            show: true,\n            timeString: unixToTimeString(),\n            dateString: unixToDateString(),\n        },\n    };\n}\n\nexport function closeMealForm() {\n    return {\n        type: 'MEAL_FORM/CLOSE',\n    };\n}\n","import * as API from 'components/common/utils/api.js';\n\n\nfunction loadingActivity(){\n    return {\n        type: 'ACTIVITY/LOADING'\n    }\n}\n\nexport  function setActivity(filter) {\n    return async (dispatch, getState) => {\n        try {\n            dispatch(loadingActivity())\n            let filter = getState().view.activity.filter\n            let response = await API.get(`activity/${filter}`);\n            let data = Object.fromEntries(response.map((entry)=>{ //CONVERTS ARRAY TO OBJECT KEYED BY _ID\n                let { _id } = entry\n                return [_id, entry]\n            }))\n            dispatch({type: 'ACTIVITY/SET_DATA', payload: {data, loading: false}})\n        } catch (error) {\n            console.log(error)\n        }\n    };\n}","import store from 'components/common/state/Store';\nimport {\n    unixToDateString,\n    unixToTimeString,\n} from 'components/common/utils/DateHandler';\n\nexport function editHealthCheck(id) {\n    let currentEntry = store.getState().activity.data[id];\n    return {\n        type: 'HEALTH_CHECK_FORM/EDIT',\n\n        payload: {\n            edit: true,\n            show: true,\n            ...currentEntry,\n            timeString: unixToTimeString(currentEntry.time),\n            dateString: unixToDateString(currentEntry.time),\n        },\n    };\n}\n\nexport function formChange(payload) {\n    return {\n        type: 'HEALTH_CHECK_FORM/CHANGE',\n        payload,\n    };\n}\n\nexport function deleteSymptom(payload) {\n    return {\n        type: 'HEALTH_CHECK_FORM/DELETE_SYMPTOM',\n        payload,\n    };\n}\n\nexport function newHealthCheck() {\n    console.log('new meal action');\n    return {\n        type: 'HEALTH_CHECK_FORM/NEW',\n        payload: {\n            new: true,\n            show: true,\n            timeString: unixToTimeString(),\n            dateString: unixToDateString(),\n        },\n    };\n}\nexport function closeHealthCheckForm() {\n    return {\n        type: 'HEALTH_CHECK_FORM/CLOSE',\n    };\n}\n","import React from 'react';\nimport * as API from '../common/utils/api.js';\nimport { useDispatch } from 'react-redux';\nimport { editMeal } from 'components/meal_form/state/MealFormActions';\nimport { setActivity } from 'components/activity/state/ActivityActions';\nimport { editHealthCheck } from 'components/health_check_form/state/healthCheckFormActions.js';\n\nexport default function ManageEntry(props) {\n    const dispatch = useDispatch();\n    let { _id, type } = props.entry;\n    let endpoint;\n    if (type === 'meal') endpoint = 'meals';\n    if (type === 'healthCheck') endpoint = 'health-checks';\n\n    async function handleDelete(e) {\n        e.preventDefault();\n        try {\n            await API.deleteByID(`activity/${endpoint}`, _id);\n            dispatch(setActivity());\n        } catch (error) {\n            console.error(error);\n        }\n    }\n\n    function handleEdit(e) {\n        e.preventDefault();\n        if (type === 'meal') dispatch(editMeal(_id));\n        if (type === 'healthCheck') dispatch(editHealthCheck(_id))\n    }\n\n    return (\n        <div>\n            <a onClick={handleDelete} href=\"#\">\n                <i style={{ marginLeft: '10px' }} className=\"fas fa-times\"></i>\n            </a>\n            <a onClick={handleEdit} href=\"#\">\n                <i\n                    style={{ marginLeft: '10px' }}\n                    className=\"fas fa-pencil-alt\"></i>\n            </a>\n        </div>\n    );\n};\n","import React from 'react';\nimport dayjs from 'dayjs';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Pill from '../Pill.jsx';\nimport ManageEntry from './ManageEntry';\nimport './Entry.scss';\n\nexport default function MealEntry(props) {\n    let { entry } = props;\n    let { ingredients, mealType, time } = entry;\n\n    function getEmoji(type) {\n        return {\n            Breakfast: '🍳',\n            Lunch: '🥪',\n            Dessert: '🧁',\n            Snack: '🍇',\n            Dinner: '🍴',\n            Drink: '🥤',\n            HealthCheck: '❤️',\n        }[type];\n    }\n\n    return (\n        <Container className=\"entry-container\" fluid>\n            <Row>\n                <Col xs=\"auto\" className=\"time-container\">\n                    {dayjs.unix(time).format('h:mm A')}\n                </Col>\n                <Col xs={true} className=\"entry-data-container meal-entry-container\">\n                    <Row>\n                        <Col>\n                            <Row className=\"entry-heading\">\n                                <Col>\n                                    <h5>\n                                        <span className=\"emoji\">{getEmoji(mealType)}</span>\n                                        {mealType}\n                                    </h5>\n                                </Col>\n                            </Row>\n                            <Row className=\"entry-section\">\n                                <Col xs=\"auto\">\n                                    <div className=\"section-title\">Ingredients:</div>\n                                </Col>\n                                <Col xs={true}>\n                                    {ingredients.map((ingredient, index) => {\n                                        return (\n                                            <Pill key={index} text={ingredient.name} color=\"red\" />\n                                        );\n                                    })}\n                                </Col>\n                            </Row>\n                        </Col>\n                        <Col className=\"manage-entry-col\" xs=\"auto\">\n                            <ManageEntry entry={entry} />\n                        </Col>\n                    </Row>\n                </Col>\n            </Row>\n        </Container>\n    );\n}\n","import React from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Pill from '../Pill.jsx';\nimport './Entry.scss';\nimport ManageEntry from './ManageEntry.jsx';\nimport dayjs from 'dayjs';\n\nexport default function HealthCheckEntry(props) {\n    let { entry } = props;\n    let { symptoms, type, time } = entry;\n    return (\n        <Container className=\"entry-container\" fluid>\n            <Row>\n                <Col xs=\"auto\" className=\"time-container\">\n                    {dayjs.unix(time).format('h:mm A')}\n                </Col>\n                <Col xs={true} className=\"entry-data-container health-check-entry-container\">\n                    <Row>\n                        <Col>\n                            <Row className=\"entry-heading\">\n                                <Col>\n                                    <h5>\n                                        <span className=\"emoji\">❤️</span>Wellness Check\n                                    </h5>\n                                </Col>\n                            </Row>\n                            <Row className=\"entry-section\">\n                                <Col xs=\"auto\">\n                                    <div className=\"section-title\">Symptoms:</div>\n                                </Col>\n                                <Col xs={true}>\n                                    {symptoms.map((symptom, index) => {\n                                        return (\n                                            <Pill\n                                                key={index}\n                                                text={symptom.description}\n                                                color=\"green\"\n                                            />\n                                        );\n                                    })}\n                                </Col>\n                            </Row>\n                        </Col>\n                        <Col xs=\"auto\" className=\"manage-entry-col\">\n                            <ManageEntry entry={entry} />\n                        </Col>\n                    </Row>\n                </Col>\n            </Row>\n        </Container>\n    );\n}\n","import React from 'react';\nimport MealEntry from './MealEntry.jsx';\nimport HealthCheckEntry from './HealthCheckEntry.jsx';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport './DateBlock.scss';\n\nexport default function DateBlock(props) {\n    let { entries, index } = props;\n    return (\n        <div>\n            {index > 0 && <hr />}\n            <Container fluid className=\"date-block-container\">\n                <Row>\n                    <Col xs={1} className=\"date-col\">\n                        <div className=\"date-container\">\n                            <div>{entries[0].date}</div>\n                        </div>\n                    </Col>\n                    <Col>\n                        {entries.map((entry) => {\n                            if (entry.type === 'meal')\n                                return <MealEntry key={entry._id} entry={entry} />;\n                            if (entry.type === 'healthCheck')\n                                return <HealthCheckEntry key={entry._id} entry={entry} />;\n                            return null\n                        })}\n                    </Col>\n                </Row>\n            </Container>\n        </div>\n    );\n}\n","import React from 'react';\nimport './AddButtonsContainer.scss';\nimport { useDispatch } from 'react-redux';\nimport { newMeal } from 'components/meal_form/state/MealFormActions';\nimport Button from 'react-bootstrap/Button';\nimport { newHealthCheck } from 'components/health_check_form/state/healthCheckFormActions';\n\nexport default function AddButtonsContainer(props) {\n    const dispatch = useDispatch();\n    return (\n        <div className=\"add-buttons-container\">\n            <Button\n                onClick={() => {\n                    dispatch(newMeal());\n                }}\n                className=\"button-light-brown\"\n                variant=\"default\">\n                <i className=\"fas fa-plus\"></i> Add Meal\n            </Button>\n            <Button\n                onClick={() => {\n                    dispatch(newHealthCheck());\n                }}\n                className=\"button-light-brown\"\n                variant=\"default\">\n                <i className=\"fas fa-plus\"></i> Add Wellness Check\n            </Button>\n        </div>\n    );\n}\n","import React, { useState } from 'react';\nimport _ from 'lodash';\nimport { AsyncTypeahead } from 'react-bootstrap-typeahead';\nimport 'react-bootstrap-typeahead/css/Typeahead.css';\nimport * as API from './utils/api.js';\n\nexport default function InputAutoComplete(props) {\n    let {\n        defaultInputValue,\n        submit,\n        placeholder,\n        apiEndpoint,\n        allowNewItems,\n        suggestions,\n        clearOnSubmit\n    } = props;\n    \n    let [isLoading, setIsLoading] = useState(false);\n    let [options, setOptions] = useState([]);\n    let [value, setValue] = useState([]);\n\n    async function handleSearch(query) {\n        if (suggestions) { //if suggestions prop is supplied use supplied array\n            setOptions(suggestions);\n        } else { //if no suggestions prop is supplied, query api for suggestions\n            setIsLoading(true);\n            query = _.startCase(_.lowerCase(query));\n            let url = `suggestions/${apiEndpoint}/${query}`;\n            setOptions(await API.get(url))\n            setIsLoading(false);\n        }\n    }\n\n    function submitHandler(value) {\n        if (value.length <= 0) return;\n        let outputValue = value[0];\n        let newItem = false;\n        if (typeof outputValue === 'object') {\n            outputValue = outputValue.label;\n            newItem = true;\n        }\n        outputValue = _.startCase(_.lowerCase(outputValue));\n        if (allowNewItems && newItem) {\n            postValue(outputValue);\n        }\n        submit(outputValue);\n        if(clearOnSubmit) setValue(['']);\n    }\n\n    async function postValue(value) {\n        await API.post(apiEndpoint, { value });\n    }\n\n    return (\n        <AsyncTypeahead\n            selectHintOnEnter={true}\n            id=\"autocomplete-input\"\n            minLength={1}\n            allowNew={allowNewItems}\n            delay={100}\n            newSelectionPrefix=\"Add a new item: \"\n            isLoading={isLoading}\n            options={options}\n            selected={value}\n            placeholder={placeholder}\n            onChange={(value) => {\n                setValue(value);\n                submitHandler(value);\n            }}\n            onSearch={handleSearch}\n            defaultInputValue={defaultInputValue ? defaultInputValue : ''}\n        />\n    );\n}\n","import React from 'react';\nimport './IngredientPill.scss';\n\nexport default function IngredientPill(props) {\n    let { onClick } = props;\n\n    return (\n        <div className=\"ingredient-pill\">\n            <div\n                onClick={onClick}\n                className=\"pill-primary\">\n                {props.primaryText}\n            </div>\n        </div>\n    );\n}\n","import React from 'react';\nimport { useState } from 'react';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport { useDispatch, useSelector } from 'react-redux';\nimport _ from 'lodash';\n\nimport InputAutoComplete from 'components/common/InputAutoComplete';\nimport { closeMealForm, deleteIngredient, formChange } from './state/MealFormActions';\nimport Pill from 'components/IngredientPill';\nimport * as API from 'components/common/utils/api';\nimport { stringToUnixTime } from 'components/common/utils/DateHandler';\nimport './MealForm.scss';\nimport { setActivity } from 'components/activity/state/ActivityActions';\n\nexport default function MealForm(props) {\n    let [processing, setProcessing] = useState(false);\n    let state = useSelector((state) => state.mealForm);\n    const dispatch = useDispatch();\n\n    async function handleSubmit() {\n        try {\n            setProcessing(true);\n            let unixTime = stringToUnixTime(state.dateString, state.timeString);\n            let newMeal = {\n                ingredients: state.ingredients.map((ingredient) => ingredient.name),\n                type: state.mealType,\n                time: unixTime,\n            };\n            if (state.new) await API.post('activity/meals', newMeal);\n            if (state.edit) await API.put('activity/meals/' + state._id, newMeal);\n            setProcessing(false);\n            handleClose();\n            dispatch(setActivity());\n        } catch (error) {\n            console.log(error);\n            setProcessing(false);\n            handleClose();\n        }\n    }\n    async function handleClose() {\n        dispatch(closeMealForm());\n    }\n\n    function addIngredient(newIngredient) {\n        newIngredient = _.startCase(_.lowerCase(newIngredient));\n        if (state.ingredients.map((ingredient) => ingredient.name).includes(newIngredient)) return;\n        dispatch(\n            formChange({\n                ingredients: [...state.ingredients, { name: newIngredient }],\n            })\n        );\n    }\n\n    return (\n        <Modal show={state.show} onHide={handleClose}>\n            <Modal.Header closeButton>\n                {state.edit && <Modal.Title>Edit Meal</Modal.Title>}\n                {state.new && <Modal.Title>Post New Meal</Modal.Title>}\n            </Modal.Header>\n            <Modal.Body>\n                <div className=\"meal-form-container\">\n                    <Row>\n                        <Col xs={12}>\n                            <InputAutoComplete\n                                submit={(value) => {\n                                    dispatch(formChange({ mealType: value }));\n                                }}\n                                suggestions={[\n                                    'Breakfast',\n                                    'Lunch',\n                                    'Dinner',\n                                    'Snack',\n                                    'Dessert',\n                                    'Drink',\n                                ]}\n                                defaultInputValue={state.mealType}\n                                placeholder=\"Meal Type (ie: Breakfast, Lunch, Dinner)\"\n                            />\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col xs={6}>\n                            <Form.Control\n                                type=\"date\"\n                                value={state.dateString}\n                                onChange={(e) => {\n                                    dispatch(\n                                        formChange({\n                                            dateString: e.target.value,\n                                        })\n                                    );\n                                }}\n                            />\n                        </Col>\n                        <Col xs={6}>\n                            <Form.Control\n                                type=\"time\"\n                                value={state.timeString}\n                                onChange={(e) => {\n                                    dispatch(\n                                        formChange({\n                                            timeString: e.target.value,\n                                        })\n                                    );\n                                }}\n                            />\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col>\n                            <InputAutoComplete\n                                submit={addIngredient}\n                                apiEndpoint=\"ingredients\"\n                                clearOnSubmit\n                                placeholder=\"Add Ingredients One at a Time\"\n                            />\n                        </Col>\n                    </Row>\n                    <div className=\"ingredient-list\">\n                        {state.ingredients.map((ingredient) => {\n                            return (\n                                <Pill\n                                    onClick={() => {\n                                        dispatch(deleteIngredient(ingredient));\n                                    }}\n                                    key={ingredient.id}\n                                    primaryText={ingredient.name}\n                                />\n                            );\n                        })}\n                    </div>\n                </div>\n            </Modal.Body>\n            <Modal.Footer>\n                <Button  variant=\"default\" onClick={handleClose}>\n                    Cancel\n                </Button>\n                {state.new && (\n                    <Button\n                        className=\"button-light-green\"\n                        disabled={processing}\n                        variant=\"default\"\n                        onClick={handleSubmit}>\n                        {processing ? 'Posting' : 'Post Meal'}\n                    </Button>\n                )}\n                {state.edit && (\n                    <Button\n                        className=\"button-light-green\"\n                        disabled={processing}\n                        variant=\"default\"\n                        onClick={handleSubmit}>\n                        {processing ? 'Saving' : 'Save Changes'}\n                    </Button>\n                )}\n            </Modal.Footer>\n        </Modal>\n    );\n}\n","import dayjs from 'dayjs';\nimport isYesterday from 'dayjs/plugin/isYesterday';\nimport isToday from 'dayjs/plugin/isToday';\nimport customParseFormat from 'dayjs/plugin/customParseFormat';\ndayjs().format();\ndayjs.extend(isYesterday);\ndayjs.extend(isToday);\ndayjs.extend(customParseFormat);\n\nfunction unixTimeToDate(time) {\n    let date = dayjs.unix(time);\n    if (date.isYesterday()) return 'Yesterday';\n    if (date.isToday()) return 'Today';\n    let oneWeekAgo = dayjs().subtract(1, 'week');\n    if (date.isAfter(oneWeekAgo)) {\n        return date.format('dddd');\n    }\n    return date.format('MMM DD');\n}\n\nfunction objToArray(dataObject) {\n    return Object.entries(dataObject).map(([key, val]) => {\n        return { ...val }; //IMPORTANT, CREATES SHALLOW COPY TO PREVENT MUTATING STATE\n    });\n}\n\nexport const build = (activityEntriesObj) => {\n    console.log('building feed array')\n    let activityEntriesArrSorted = objToArray(activityEntriesObj).sort((a, b) => b.time - a.time);\n    return activityEntriesArrSorted.reduce((accumulator, currEntry, index, currArray) => {\n        currEntry.date = unixTimeToDate(currEntry.time);\n        if (index === 0) {\n            accumulator.push([currEntry]);\n            return accumulator;\n        }\n        let lastEntry = currArray[index - 1];\n        if (lastEntry.date === currEntry.date) {\n            accumulator[accumulator.length - 1].unshift(currEntry);\n            return accumulator;\n        }\n        accumulator.push([currEntry]);\n        return accumulator;\n    }, []);\n};\n\n// export function create(dataObject) {\n//     console.log(dataObject)\n//     let dataArray = toSortedArray(dataObject)\n//     return dataArray.reduce((acc, currentEntry) => {\n//         currentEntry.date = toDate(currentEntry.time);\n//         let lastSubArray = acc[acc.length - 1];\n//         if (!lastSubArray) return [[currentEntry]];\n//         let lastEntry = lastSubArray[lastSubArray.length - 1];\n//         if (lastEntry.date === currentEntry.date) {\n//             acc[acc.length - 1].unshift(currentEntry);\n//             return acc;\n//         }\n//         acc.push([currentEntry]);\n//         return acc;\n//     }, []);\n// }\n","import React, { useState } from 'react';\nimport Form from 'react-bootstrap/Form';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport _ from 'lodash';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { closeHealthCheckForm, formChange, deleteSymptom } from './state/healthCheckFormActions';\nimport InputAutoComplete from 'components/common/InputAutoComplete';\nimport Pill from 'components/IngredientPill';\nimport * as API from 'components/common/utils/api';\nimport { stringToUnixTime } from 'components/common/utils/DateHandler';\nimport './HealthCheckForm.scss';\nimport { setActivity } from 'components/activity/state/ActivityActions';\n\nexport default function HealthCheckForm() {\n    let [processing, setProcessing] = useState(false);\n    let state = useSelector((state) => state.healthCheckForm);\n    let dispatch = useDispatch();\n\n    function handleClose() {\n        dispatch(closeHealthCheckForm());\n    }\n    function handleMoodSelect(val) {\n        dispatch(\n            formChange({\n                mood: val,\n            })\n        );\n    }\n    function addSymptom(newSymptom) {\n        newSymptom = _.startCase(_.lowerCase(newSymptom));\n        console.log(state.symptoms);\n        if (state.symptoms.map((symptom) => symptom.description).includes(newSymptom)) return;\n        dispatch(\n            formChange({\n                symptoms: [...state.symptoms, { description: newSymptom }],\n            })\n        );\n    }\n    async function handleSubmit() {\n        try {\n            setProcessing(true);\n            let unixTime = stringToUnixTime(state.dateString, state.timeString);\n            let newHealthCheck = {\n                symptoms: state.symptoms.map((symptom) => symptom.description),\n                mood: state.mood,\n                time: unixTime,\n            };\n            if (state.new) await API.post('activity/health-checks', newHealthCheck);\n            if (state.edit) await API.put('activity/health-checks/' + state._id, newHealthCheck);\n            setProcessing(false);\n            handleClose();\n            dispatch(setActivity());\n        } catch (error) {\n            console.log(error);\n            setProcessing(false);\n            handleClose();\n        }\n    }\n\n    return (\n        <Modal show={state.show} onHide={handleClose}>\n            <Modal.Header closeButton>\n                {state.edit && <Modal.Title>Edit Wellness Check</Modal.Title>}\n                {state.new && <Modal.Title>Post New Wellness Check</Modal.Title>}\n            </Modal.Header>\n            <Modal.Body>\n                <div className=\"health-check-form-container\">\n                    <Row>\n                        <Col xs={6}>\n                            <Form.Control\n                                type=\"date\"\n                                name=\"date\"\n                                value={state.dateString}\n                                onChange={(e) => {\n                                    dispatch(\n                                        formChange({\n                                            dateString: e.target.value,\n                                        })\n                                    );\n                                }}\n                            />\n                        </Col>\n                        <Col xs={6}>\n                            <Form.Control\n                                type=\"time\"\n                                name=\"time\"\n                                value={state.timeString}\n                                onChange={(e) => {\n                                    dispatch(\n                                        formChange({\n                                            timeString: e.target.value,\n                                        })\n                                    );\n                                }}\n                            />\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col xs={12}>\n                            <ButtonGroup style={{ display: 'flex' }}>\n                                <Button\n                                    onClick={() => handleMoodSelect(1)}\n                                    className=\"mood-button\"\n                                    variant={state.mood === 1 ? 'secondary' : 'light'}>\n                                    Grumpy\n                                </Button>\n                                <Button\n                                    onClick={() => handleMoodSelect(2)}\n                                    className=\"mood-button\"\n                                    variant={state.mood === 2 ? 'secondary' : 'light'}>\n                                    Neutral\n                                </Button>\n                                <Button\n                                    onClick={() => handleMoodSelect(3)}\n                                    className=\"mood-button\"\n                                    variant={state.mood === 3 ? 'secondary' : 'light'}>\n                                    Upbeat\n                                </Button>\n                            </ButtonGroup>\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col>\n                            <InputAutoComplete\n                                submit={addSymptom}\n                                clearOnSubmit\n                                placeholder=\"Add Symptoms One at a Time\"\n                                apiEndpoint=\"symptoms\"\n                            />\n                        </Col>\n                    </Row>\n                    <div className=\"symptom-list\">\n                        {state.symptoms.map((symptom, index) => {\n                            return (\n                                <Pill\n                                    onClick={() => {\n                                        dispatch(deleteSymptom(symptom));\n                                    }}\n                                    index={index}\n                                    key={index}\n                                    primaryText={symptom.description}\n                                />\n                            );\n                        })}\n                    </div>\n                </div>\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"default\" onClick={handleClose}>\n                    Cancel\n                </Button>\n                {state.new && (\n                    <Button\n                        className=\"button-light-green\"\n                        disabled={processing}\n                        variant=\"default\"\n                        onClick={handleSubmit}>\n                        {processing ? 'Posting' : 'Post Health Check'}\n                    </Button>\n                )}\n                {state.edit && (\n                    <Button\n                        className=\"button-light-green\"\n                        disabled={processing}\n                        variant=\"default\"\n                        onClick={handleSubmit}>\n                        {processing ? 'Saving' : 'Save Changes'}\n                    </Button>\n                )}\n            </Modal.Footer>\n        </Modal>\n    );\n}\n","import React, { useEffect } from 'react';\nimport './Activity.scss';\nimport DateBlock from './DateBlock.jsx';\nimport AddButtonsContainer from 'components/activity/AddButtonsContainer';\nimport MealForm from 'components/meal_form/MealForm';\nimport * as FeedArray from './utils/feedArray';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setActivity } from 'components/activity/state/ActivityActions';\nimport HealthCheckForm from 'components/health_check_form/HealthCheckForm';\nimport  Spinner from 'react-bootstrap/Spinner';\n\nexport default function Activity(props) {\n    const dispatch = useDispatch();\n    let state = useSelector((state) => state);\n    let loaded = !state.activity.loading\n    \n    useEffect( () => {\n        dispatch(setActivity());\n    }, [state.view]);\n    \n    return (\n        <div className=\"activity-container\">\n            {loaded ? <div>\n                <AddButtonsContainer />\n                <MealForm />\n                <HealthCheckForm />\n                <hr />\n                {FeedArray.build(state.activity.data).map((dateBlock, index) => {\n                    return <DateBlock key={index} index={index} entries={dateBlock} />;\n                })}\n            </div> : <Spinner animation='border' className=\"loading-spinner\"/>}\n        </div>\n    );\n}\n","import React from 'react';\nimport Sidebar from './Sidebar';\nimport Activity from './activity/Activity'\nimport { useSelector } from 'react-redux';\n\nexport default function Dashboard(props){\n    let state = useSelector(state => state.view)\n\n    return (\n        <div style={{position: 'relative'}}>\n            <Sidebar />\n            {(state.activity.active) && <Activity />}\n\n        </div>  \n    )\n}","import React, { useEffect } from 'react';\nimport Header from 'components/header/Header';\nimport Dashboard from './Dashboard';\nimport {useSelector, useDispatch} from 'react-redux'\nimport {attemptLogIn } from './common/state/UserStateActions.js'\n\nfunction App() {\n    let userState = useSelector(state => state.UserState)\n    const dispatch = useDispatch()\n\n\n    useEffect(() => dispatch(attemptLogIn()), []);\n\n    return (\n        <div>\n            <Header />\n\n            {userState.isLoggedIn && (\n                <Dashboard/>\n            )}\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './styles/main.scss';\nimport { Provider } from 'react-redux';\nimport store from './components/common/state/Store.js'\n\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}